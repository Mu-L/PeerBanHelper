const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./mailForm-fqdoNKdN.js","./index-CsRbB84p.js","./libs-JpPrnt1f.js","./arcoDesign-CRPk19aq.js","./index-CQdZk2IT.css","./index-o2aFk2TV.js","./index-Mb2FwH0E.css","./time-DiJlW6fZ.js","./index-Gq-3qsyj.css","./index-BFzQHSKZ.css","./telegramForm-LFC1Y_1x.js","./pushplusForm-BdHhUzLf.js","./serverchanForm-BjIfjpKA.js","./logViewer-DeE6HljR.js","./logViewer-Dkl-6D3D.css"])))=>i.map(i=>d[i]);
import{_ as Se,u as _e,a as Ve,g as ke,m as Be,j as Wt,o as Pt,e as Xt,q as Jt,f as Re,r as $e,c as Kt,s as Qt,t as Ct,v as bt,w as Zt}from"./index-CsRbB84p.js";import{f as O,c as D,j as k,k as ne,n as Mt,m as lt,p as N,a6 as z,al as F,s as I,t as a,y as t,v as c,x as g,a2 as l,E as te,u as q,a1 as qe,ak as Ut,r as Q,P as Le,F as he,q as Ee,a9 as Te,O as Bt,a8 as xe,a as nt,l as ea,R as Tt,ae as ta}from"./libs-JpPrnt1f.js";import{G as aa,S as la,a as na,b as oa,C as ia,c as sa,d as ra,e as ua}from"./index-o2aFk2TV.js";import{_ as Rt,g as Lt,i as Et,J as Ye,$ as Qe,a0 as da,w as se,L as Ie,ak as ot,v as J,G,q as we,aF as At,T as de,S as j,B as pe,N as Fe,p as Ae,k as Pe,n as Ce,aw as pa,aG as it,ab as ie,aH as ma,aI as st,M as le,Y as fa,H as We,aJ as _a,o as ca,c as Xe,P as ga,C as Dt,aK as ba,x as Ot,Q as va,R as ya,ap as rt,m as ut,a7 as qt,b as dt,a6 as ha,a as ze,D as Va,h as ka,a2 as xa,ax as wa,z as $a,K as Sa,F as Ia,az as Pa,O as Ca,aL as Ma,au as Ua,av as Ba,aM as Ta,U as Ra,V as La}from"./arcoDesign-CRPk19aq.js";/* empty css              *//* empty css              */import{f as oe,a as vt}from"./time-DiJlW6fZ.js";const Ea=O({name:"IconSave",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:o=>["butt","round","square"].includes(o)},strokeLinejoin:{type:String,default:"miter",validator:o=>["arcs","bevel","miter","miter-clip","round"].includes(o)},rotate:Number,spin:Boolean},emits:{click:o=>!0},setup(o,{emit:n}){const e=Lt("icon"),r=D(()=>[e,`${e}-save`,{[`${e}-spin`]:o.spin}]),p=D(()=>{const s={};return o.size&&(s.fontSize=Et(o.size)?`${o.size}px`:o.size),o.rotate&&(s.transform=`rotate(${o.rotate}deg)`),s});return{cls:r,innerStyle:p,onClick:s=>{n("click",s)}}}}),Aa=["stroke-width","stroke-linecap","stroke-linejoin"],Da=N("path",{d:"M21 13v9m18 20H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h22.55a1 1 0 0 1 .748.336l7.45 8.38a1 1 0 0 1 .252.664V41a1 1 0 0 1-1 1ZM14 6h14v15a1 1 0 0 1-1 1H15a1 1 0 0 1-1-1V6Z"},null,-1),Oa=[Da];function qa(o,n,e,r,p,d){return k(),ne("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Mt(o.cls),style:lt(o.innerStyle),"stroke-width":o.strokeWidth,"stroke-linecap":o.strokeLinecap,"stroke-linejoin":o.strokeLinejoin,onClick:n[0]||(n[0]=(...s)=>o.onClick&&o.onClick(...s))},Oa,14,Aa)}var Ze=Rt(Ea,[["render",qa]]);const zt=Object.assign(Ze,{install:(o,n)=>{var e;const r=(e=n==null?void 0:n.iconPrefix)!=null?e:"";o.component(r+Ze.name,Ze)}}),za=O({name:"IconExperiment",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:o=>["butt","round","square"].includes(o)},strokeLinejoin:{type:String,default:"miter",validator:o=>["arcs","bevel","miter","miter-clip","round"].includes(o)},rotate:Number,spin:Boolean},emits:{click:o=>!0},setup(o,{emit:n}){const e=Lt("icon"),r=D(()=>[e,`${e}-experiment`,{[`${e}-spin`]:o.spin}]),p=D(()=>{const s={};return o.size&&(s.fontSize=Et(o.size)?`${o.size}px`:o.size),o.rotate&&(s.transform=`rotate(${o.rotate}deg)`),s});return{cls:r,innerStyle:p,onClick:s=>{n("click",s)}}}}),ja=["stroke-width","stroke-linecap","stroke-linejoin"],Na=N("path",{d:"M10.5 7h6m0 0v10.5l-5.25 14M16.5 7h15m0 0h6m-6 0v10.5L37 32.167M11.25 31.5l-2.344 6.853A2 2 0 0 0 10.8 41h26.758a2 2 0 0 0 1.86-2.737L37 32.167M11.25 31.5c1.916 1.833 7.05 4.4 12.25 0s11.166-1.389 13.5.667M26 22.5v.01"},null,-1),Ha=[Na];function Ga(o,n,e,r,p,d){return k(),ne("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Mt(o.cls),style:lt(o.innerStyle),"stroke-width":o.strokeWidth,"stroke-linecap":o.strokeLinecap,"stroke-linejoin":o.strokeLinejoin,onClick:n[0]||(n[0]=(...s)=>o.onClick&&o.onClick(...s))},Ha,14,ja)}var et=Rt(za,[["render",Ga]]);const Ya=Object.assign(et,{install:(o,n)=>{var e;const r=(e=n==null?void 0:n.iconPrefix)!=null?e:"";o.component(r+et.name,et)}});var ve=(o=>(o[o.NO_PROXY=0]="NO_PROXY",o[o.SYSTEM_PROXY=1]="SYSTEM_PROXY",o[o.HTTP_PROXY=2]="HTTP_PROXY",o[o.SOCKS_PROXY=3]="SOCKS_PROXY",o))(ve||{});const Fa={key:0},Wa=O({__name:"btn",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=async p=>p?new Promise(d=>Ye.warning({title:n("page.settings.tab.config.btn.enableSubmit.modal.title"),content:()=>qe(da,{},[qe(Qe,null,n("page.settings.tab.config.btn.enableSubmit.modal.content")),qe(Qe,null,n("page.settings.tab.config.btn.enableSubmit.modal.content2")),qe(Qe,null,n("page.settings.tab.config.btn.enableSubmit.modal.content3"))]),closable:!1,hideCancel:!1,onOk:()=>d(!0),onCancel:()=>d(!1)})):!0;return(p,d)=>{const s=se,i=Ie,m=ot,f=J,u=G,S=we,b=At,_=de,C=j;return k(),I(C,{direction:"vertical",fill:""},{default:a(()=>[t(s,{heading:3},{default:a(()=>d[6]||(d[6]=[c(" BTN ")])),_:1}),t(m,null,{default:a(()=>[c(g(l(n)("page.settings.tab.config.btn.doc"))+" ",1),t(i,{target:"_blank",href:"https://docs.pbh-btn.com/docs/btn/intro/"},{default:a(()=>d[7]||(d[7]=[c(" https://docs.pbh-btn.com/docs/btn/intro/ ")])),_:1})]),_:1}),t(u,{label:l(n)("page.settings.tab.config.btn.enable"),field:"btn.enabled"},{default:a(()=>[t(f,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=P=>e.value.enabled=P)},null,8,["modelValue"])]),_:1},8,["label"]),e.value.enabled?(k(),ne("div",Fa,[t(u,{label:l(n)("page.settings.tab.config.btn.enableSubmit"),field:"btn.submit"},{default:a(()=>[t(f,{modelValue:e.value.submit,"onUpdate:modelValue":d[1]||(d[1]=P=>e.value.submit=P),"before-change":r},null,8,["modelValue"])]),_:1},8,["label"]),t(u,{label:"URL",field:"btn.config_url","validate-trigger":"focus",rules:[{type:"url",required:!0}]},{default:a(()=>[t(S,{modelValue:e.value.config_url,"onUpdate:modelValue":d[2]||(d[2]=P=>e.value.config_url=P),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),t(u,{label:"App ID",field:"btn.app_id"},{default:a(()=>[t(S,{modelValue:e.value.app_id,"onUpdate:modelValue":d[3]||(d[3]=P=>e.value.app_id=P),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),t(u,{label:"App Secret",field:"btn.app_secret"},{default:a(()=>[t(b,{modelValue:e.value.app_secret,"onUpdate:modelValue":d[4]||(d[4]=P=>e.value.app_secret=P),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),t(u,{label:l(n)("page.settings.tab.config.btn.allowScript"),tooltip:l(n)("page.settings.tab.config.btn.allowScript.tips"),field:"model.enabled"},te({default:a(()=>[t(f,{modelValue:e.value.allow_script_execute,"onUpdate:modelValue":d[5]||(d[5]=P=>e.value.allow_script_execute=P)},null,8,["modelValue"])]),_:2},[e.value.allow_script_execute?{name:"extra",fn:a(()=>[t(_,{type:"danger"},{default:a(()=>[c(g(l(n)("page.settings.tab.config.btn.allowScript.warning")),1)]),_:1})]),key:"0"}:void 0]),1032,["label","tooltip"])])):q("",!0)]),_:1})}}}),Xa=O({__name:"ipDatabase",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue");return(r,p)=>{const d=se,s=J,i=G,m=we,f=j;return k(),I(f,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.ipDatabase.title")),1)]),_:1}),t(i,{label:l(n)("page.settings.tab.config.ipDatabase.autoUpdate"),field:"ip_database.auto_update"},{default:a(()=>[t(s,{modelValue:e.value.auto_update,"onUpdate:modelValue":p[0]||(p[0]=u=>e.value.auto_update=u)},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.config.ipDatabase.city"),field:"ip_database.database_city"},{default:a(()=>[t(m,{modelValue:e.value.database_city,"onUpdate:modelValue":p[1]||(p[1]=u=>e.value.database_city=u),disabled:"",style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.config.ipDatabase.asn"),field:"ip_database.database_asn"},{default:a(()=>[t(m,{modelValue:e.value.database_asn,"onUpdate:modelValue":p[2]||(p[2]=u=>e.value.database_asn=u),disabled:"",style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),Ja=O({__name:"logger",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue");return(r,p)=>{const d=se,s=J,i=G,m=j;return k(),I(m,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.logger.title")),1)]),_:1}),t(i,{label:l(n)("page.settings.tab.config.logger.hide_finish_log"),field:"server.hide_finish_log",tooltip:l(n)("page.settings.tab.config.logger.hide_finish_log.tips")},{default:a(()=>[t(s,{modelValue:e.value.hide_finish_log,"onUpdate:modelValue":p[0]||(p[0]=f=>e.value.hide_finish_log=f)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),Ka=O({__name:"lookup",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue");return(r,p)=>{const d=se,s=J,i=G,m=j;return k(),I(m,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.lookup.title")),1)]),_:1}),t(i,{label:l(n)("page.settings.tab.config.lookup.dnsReverseLookup"),field:"server.dns_reverse_lookup",tooltip:l(n)("page.settings.tab.config.lookup.dnsReverseLookup.tips")},{default:a(()=>[t(s,{modelValue:e.value.dns_reverse_lookup,"onUpdate:modelValue":p[0]||(p[0]=f=>e.value.dns_reverse_lookup=f)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),Qa=O({__name:"formArray",props:Ut({label:{},required:{type:Boolean},tooltip:{},virtualListProps:{},paginationProps:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=o,p=D(()=>e.value.map((i,m)=>({item:i,index:m}))),d=(i,m)=>{e.value.some(f=>f.trim()==="")?m(n("page.settings.tab.profile.formArray.emptyTips")):m()},s=Q(!1);return(i,m)=>{const f=pe,u=Fe,S=we,b=j,_=Ae,C=Pe,P=Ce,y=pa,w=G;return k(),I(w,{label:r.label,required:r.required,field:"model","show-header":!1,tooltip:r.tooltip,rules:[{validator:d}]},{default:a(()=>[t(f,{type:"primary",onClick:m[0]||(m[0]=h=>s.value=!0)},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.form.ignoreAddress.action")),1)]),_:1}),t(y,{visible:s.value,"hide-cancel":"",title:r.label,"mask-closable":"",onOk:m[2]||(m[2]=h=>s.value=!1),onCancel:m[3]||(m[3]=h=>s.value=!1)},{default:a(()=>[t(b,{direction:"vertical"},{default:a(()=>[t(f,{onClick:m[1]||(m[1]=h=>e.value.push(""))},{icon:a(()=>[t(u)]),_:1}),t(P,{style:{"min-width":"200px"},"virtual-list-props":r.virtualListProps,data:p.value,"pagination-props":r.paginationProps},{item:a(({item:h})=>[(k(),I(C,{key:h.index},{actions:a(()=>[t(f,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:$=>e.value.splice(h.index,1)},{icon:a(()=>[t(_)]),_:2},1032,["onClick"])]),default:a(()=>[t(b,null,{default:a(()=>[t(S,{modelValue:e.value[h.index],"onUpdate:modelValue":$=>e.value[h.index]=$},null,8,["modelValue","onUpdate:modelValue"]),m[4]||(m[4]=N("br",null,null,-1))]),_:2},1024)]),_:2},1024))]),_:1},8,["virtual-list-props","data","pagination-props"])]),_:1})]),_:1},8,["visible","title"])]),_:1},8,["label","required","tooltip","rules"])}}}),jt=Se(Qa,[["__scopeId","data-v-8b6be55f"]]),Za=O({__name:"network",props:{proxy:{required:!0},proxyModifiers:{},resolvers:{required:!0},resolversModifiers:{}},emits:["update:proxy","update:resolvers"],setup(o){const n=[ve.NO_PROXY,ve.SYSTEM_PROXY,ve.HTTP_PROXY,ve.SOCKS_PROXY],{t:e}=z(),r=F(o,"proxy"),p=F(o,"resolvers");return(d,s)=>{const i=se,m=J,f=G,u=j,S=st,b=it,_=we,C=ie,P=ma;return k(),I(u,{direction:"vertical",fill:""},{default:a(()=>[t(i,{heading:3},{default:a(()=>[c(g(l(e)("page.settings.tab.config.network")),1)]),_:1}),t(u,{direction:"vertical",fill:""},{default:a(()=>{var y,w;return[t(i,{heading:4},{default:a(()=>s[6]||(s[6]=[c("DNS")])),_:1}),t(f,{label:l(e)("page.settings.tab.config.reslolver.useSystem"),field:"resolver.use_system",disabled:""},{default:a(()=>[t(m,{modelValue:p.value.use_system,"onUpdate:modelValue":s[0]||(s[0]=h=>p.value.use_system=h)},null,8,["modelValue"])]),_:1},8,["label"]),p.value.use_system===!1?(k(),I(jt,{key:0,modelValue:p.value.servers,"onUpdate:modelValue":s[1]||(s[1]=h=>p.value.servers=h),label:l(e)("page.settings.tab.config.reslolver.customServer"),"pagination-props":{pageSize:10,total:((w=(y=p.value)==null?void 0:y.servers)==null?void 0:w.length)??0}},null,8,["modelValue","label","pagination-props"])):q("",!0)]}),_:1}),t(u,{direction:"vertical",fill:""},{default:a(()=>[t(i,{heading:4},{default:a(()=>[c(g(l(e)("page.settings.tab.config.proxy")),1)]),_:1}),t(f,{label:l(e)("page.settings.tab.config.proxy.type"),field:"proxy.setting"},{default:a(()=>[t(b,{modelValue:r.value.setting,"onUpdate:modelValue":s[2]||(s[2]=y=>r.value.setting=y),type:"button"},{default:a(()=>[(k(),ne(he,null,Le(n,y=>t(S,{key:y,value:y},{default:a(()=>[c(g(l(e)(`page.settings.tab.config.proxy.type.${y}`)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(f,{label:l(e)("page.settings.tab.config.proxy.host"),field:"proxy.host","validate-trigger":"focus",disabled:r.value.setting<l(ve).HTTP_PROXY},{default:a(()=>[t(_,{modelValue:r.value.host,"onUpdate:modelValue":s[3]||(s[3]=y=>r.value.host=y),style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label","disabled"]),t(f,{label:l(e)("page.settings.tab.config.proxy.port"),field:"proxy.port","validate-trigger":"blur",disabled:r.value.setting<l(ve).HTTP_PROXY,rules:[{max:65535,message:l(e)("page.settings.tab.config.server.port.error")},{min:1,message:l(e)("page.settings.tab.config.server.port.error")}]},{default:a(()=>[t(C,{modelValue:r.value.port,"onUpdate:modelValue":s[4]||(s[4]=y=>r.value.port=y),max:65535,min:1,style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","disabled","rules"]),t(f,{label:l(e)("page.settings.tab.config.proxy.non_proxy_hosts"),field:"proxy.non_proxy_hosts",disabled:r.value.setting===l(ve).NO_PROXY},{default:a(()=>[t(P,{modelValue:r.value.non_proxy_hosts,"onUpdate:modelValue":s[5]||(s[5]=y=>r.value.non_proxy_hosts=y),placeholder:l(e)("page.settings.tab.config.proxy.non_proxy_hosts.tips",{separator:"|"})},null,8,["modelValue","placeholder"])]),_:1},8,["label","disabled"])]),_:1})]),_:1})}}}),el=O({__name:"performance",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue");return(r,p)=>{const d=se,s=J,i=Ie,m=Ee("i18n-t"),f=G,u=j;return k(),I(u,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.performance.title")),1)]),_:1}),t(f,{label:l(n)("page.settings.tab.config.performance.useEcoQOS"),field:"performance.windows_ecoqos_api"},{extra:a(()=>[t(m,{keypath:"page.settings.tab.config.performance.useEcoQOS.tips"},{link:a(()=>[t(i,{target:"_blank",href:"https://devblogs.microsoft.com/performance-diagnostics/introducing-ecoqos/"},{default:a(()=>p[1]||(p[1]=[c(" EcoQoS API ")])),_:1})]),_:1})]),default:a(()=>[t(s,{modelValue:e.value.windows_ecoqos_api,"onUpdate:modelValue":p[0]||(p[0]=S=>e.value.windows_ecoqos_api=S)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),tl=O({__name:"persist",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue");return(r,p)=>{const d=se,s=J,i=G,m=ie,f=j;return k(),I(f,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.persist.title")),1)]),_:1}),t(i,{label:l(n)("page.settings.tab.config.persist.banlist"),field:"persist.banlist"},{default:a(()=>[t(s,{modelValue:e.value.banlist,"onUpdate:modelValue":p[0]||(p[0]=u=>e.value.banlist=u)},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.config.persist.ban_logs_keep_days"),field:"persist.ban_logs_keep_days"},{default:a(()=>[t(m,{modelValue:e.value.ban_logs_keep_days,"onUpdate:modelValue":p[1]||(p[1]=u=>e.value.ban_logs_keep_days=u),style:{width:"100px"},precision:0},{suffix:a(()=>[c(g(l(n)("page.settings.tab.config.unit.day")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})}}});async function al(){const o=_e();await o.serverAvailable;const n=new URL(Ve(o.endpoint,"api/push"),location.href);return fetch(n,{headers:ke()}).then(e=>(o.assertResponseLogin(e),e.json()))}async function ll(o){const n=_e();await n.serverAvailable;const e=new URL(Ve(n.endpoint,"api/push"),location.href);return fetch(e,{method:"PUT",headers:ke(),body:JSON.stringify(o)}).then(async r=>(n.assertResponseLogin(r),r.json()))}async function nl(o,n){const e=_e();await e.serverAvailable;const r=new URL(Ve(e.endpoint,`api/push/${encodeURIComponent(o)}`),location.href);return fetch(r,{method:"PATCH",headers:ke(),body:JSON.stringify(n)}).then(async p=>(e.assertResponseLogin(p),p.json()))}async function ol(o){const n=_e();await n.serverAvailable;const e=new URL(Ve(n.endpoint,"api/push/test"),location.href);return fetch(e,{method:"POST",headers:ke(),body:JSON.stringify(o)}).then(async r=>(n.assertResponseLogin(r),r.json()))}async function il(o){const n=_e();await n.serverAvailable;const e=new URL(Ve(n.endpoint,`api/push/${encodeURIComponent(o)}`),location.href);return fetch(e,{method:"DELETE",headers:ke()}).then(async r=>(n.assertResponseLogin(r),r.json()))}var X=(o=>(o.Email="smtp",o.PushPlus="pushplus",o.ServerChan="serverchan",o.Telegram="telegram",o))(X||{}),sl=(o=>(o.None="NONE",o.StartTLS="STARTTLS",o.EnforceStartTLS="ENFORCE_STARTTLS",o.SSLTLS="SSLTLS",o))(sl||{});const rl=O({__name:"editPush",emits:["changed"],setup(o,{expose:n,emit:e}){const{t:r}=z(),p=Q(!1),d=Q(!1),s=Q(!1),i=Q(!1),m=Q({config:{}}),f=Q("");n({showModal:(h,$)=>{d.value=h,!h&&$?(m.value.name=$.name,f.value=$.name,m.value.type=$.type,m.value.config=$.config):m.value={config:{}},p.value=!0}});const u={[X.Email]:Te(()=>Be(()=>import("./mailForm-fqdoNKdN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url)),[X.Telegram]:Te(()=>Be(()=>import("./telegramForm-LFC1Y_1x.js"),__vite__mapDeps([10,1,2,3,4]),import.meta.url)),[X.PushPlus]:Te(()=>Be(()=>import("./pushplusForm-BdHhUzLf.js"),__vite__mapDeps([11,1,2,3,4]),import.meta.url)),[X.ServerChan]:Te(()=>Be(()=>import("./serverchanForm-BjIfjpKA.js"),__vite__mapDeps([12,1,2,3,4]),import.meta.url))},S=e,b=Q(),_=async()=>{var $;if(await(($=b.value)==null?void 0:$.validate()))return!1;try{if(d.value){const V=await ll(m.value);if(V.success)return S("changed"),C(),p.value=!1,le.success(V.message),!0;throw new Error(V.message)}else{const V=await nl(f.value,m.value);if(V.success)return S("changed"),C(),p.value=!1,le.success(V.message),!0;throw new Error(V.message)}}catch(V){return V instanceof Error&&le.error({content:V.message,resetOnHover:!0}),!1}},C=()=>{var h;(h=b.value)==null||h.resetFields()},P=()=>{C(),p.value=!1},y=async()=>{s.value=!0;const h=await _();s.value=!1,h&&(p.value=!1)},w=async()=>{var $;if(!await(($=b.value)==null?void 0:$.validate())){i.value=!0;try{const V=await ol(m.value);if(V.success)le.success(V.message);else throw new Error(V.message)}catch(V){V instanceof Error&&le.error({content:V.message,resetOnHover:!0})}finally{i.value=!1}}};return(h,$)=>{const V=pe,B=j,T=we,x=G,v=st,R=fa,U=it,M=We,Y=Ye;return k(),I(Y,{visible:p.value,"onUpdate:visible":$[3]||($[3]=A=>p.value=A),"mask-closable":!1,title:d.value?l(r)("page.settings.tab.config.push.form.title.new"):l(r)("page.settings.tab.config.push.form.title.edit"),width:"auto","unmount-on-close":"",onCancel:$[4]||($[4]=()=>C()),onBeforeOk:_},{footer:a(()=>[t(B,{style:{display:"flex","justify-content":"space-between"}},{default:a(()=>[t(V,{loading:i.value,onClick:w},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.action.test")),1)]),_:1},8,["loading"]),t(B,null,{default:a(()=>[t(V,{onClick:P},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.action.cancel")),1)]),_:1}),t(V,{type:"primary",loading:s.value,onClick:y},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.action.ok")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),default:a(()=>[t(M,{ref_key:"formRef",ref:b,model:m.value,"auto-label-width":""},{default:a(()=>[t(x,{field:"name",label:l(r)("page.settings.tab.config.push.form.name"),required:""},{default:a(()=>[t(T,{modelValue:m.value.name,"onUpdate:modelValue":$[0]||($[0]=A=>m.value.name=A),placeholder:l(r)("page.settings.tab.config.push.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(x,{field:"type",label:l(r)("page.settings.tab.config.push.form.type"),required:"",disabled:!d.value},{default:a(()=>[t(U,{modelValue:m.value.type,"onUpdate:modelValue":$[1]||($[1]=A=>m.value.type=A),style:{width:"30rem"}},{default:a(()=>[t(R,{cols:4,"row-gap":16},{default:a(()=>[t(v,{value:l(X).Email},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.type."+l(X).Email)),1)]),_:1},8,["value"]),t(v,{value:l(X).Telegram},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.type."+l(X).Telegram)),1)]),_:1},8,["value"]),t(v,{value:l(X).PushPlus},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.type."+l(X).PushPlus)),1)]),_:1},8,["value"]),t(v,{value:l(X).ServerChan},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.type."+l(X).ServerChan)),1)]),_:1},8,["value"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","disabled"]),(k(),I(Bt(u[m.value.type]),{modelValue:m.value.config,"onUpdate:modelValue":$[2]||($[2]=A=>m.value.config=A)},null,8,["modelValue"]))]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),ul=Se(rl,[["__scopeId","data-v-5070db82"]]),dl={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},pl={style:{display:"flex",alignItems:"center",color:"#1D2129"}},ml=O({__name:"pushCard",props:{channel:{}},emits:["deleted","edit"],setup(o,{emit:n}){const{t:e}=z(),r={[X.Email]:"#ffb400",[X.Telegram]:"#165DFF",[X.ServerChan]:"#b71de8",[X.PushPlus]:"#f53f3f"},p={[X.Email]:"M",[X.Telegram]:"T",[X.ServerChan]:"S",[X.PushPlus]:"P"},d=n,s=async m=>{try{const f=await il(m);if(f.success)return le.success(f.message),d("deleted"),!0;throw new Error(f.message)}catch(f){return f instanceof Error&&le.error({content:f.message,resetOnHover:!0}),!1}},i=()=>{d("edit")};return(m,f)=>{const u=_a,S=de,b=ca,_=pe,C=Xe,P=Ae,y=ga,w=j,h=Dt;return k(),I(h,{hoverable:"",style:{width:"15rem",marginBottom:"20px"}},{default:a(()=>[N("div",dl,[N("span",pl,[t(u,{style:lt({marginRight:"8px",backgroundColor:r[m.channel.type]}),size:28},{default:a(()=>[c(g(p[m.channel.type]),1)]),_:1},8,["style"]),t(S,null,{default:a(()=>[c(g(m.channel.name),1)]),_:1})]),t(w,{warp:"",size:"mini"},{default:a(()=>[t(C,{content:l(e)("page.settings.tab.config.push.edit"),position:"top",mini:""},{default:a(()=>[t(_,{class:"edit-btn",shape:"circle",type:"text",onClick:f[0]||(f[0]=()=>i())},{icon:a(()=>[t(b)]),_:1})]),_:1},8,["content"]),t(y,{content:l(e)("page.settings.tab.config.push.deleteConfirm"),type:"warning",onBeforeOk:f[1]||(f[1]=()=>s(m.channel.name))},{default:a(()=>[t(_,{class:"edit-btn",status:"danger",shape:"circle",type:"text"},{icon:a(()=>[t(P)]),_:1})]),_:1},8,["content"])]),_:1})])]),_:1})}}}),fl=Se(ml,[["__scopeId","data-v-caf4996a"]]),_l={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},cl=O({__name:"push",setup(o){const{t:n}=z(),{data:e,refresh:r,loading:p}=xe(al),d=Q(),s=()=>{var m;(m=d.value)==null||m.showModal(!0)},i=m=>{var f;(f=d.value)==null||f.showModal(!1,m)};return(m,f)=>{const u=se,S=de,b=Wt,_=pe,C=j,P=ba,y=Ot,w=Dt,h=va,$=ya;return k(),ne(he,null,[t(C,{direction:"vertical",fill:""},{default:a(()=>[t(u,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.push.title")),1)]),_:1}),t(C,{style:{display:"flex","justify-content":"space-between"},fill:""},{default:a(()=>[t(S,null,{default:a(()=>[c(g(l(n)("page.settings.tab.config.push.description")),1)]),_:1}),t(_,{type:"primary",onClick:s},{icon:a(()=>[t(b)]),default:a(()=>[c(" "+g(l(n)("page.settings.tab.config.push.add")),1)]),_:1})]),_:1}),f[0]||(f[0]=N("br",null,null,-1)),t($,{justify:"start",align:"stretch",wrap:!0,gutter:[{xs:8,sm:8,md:8,lg:24,xl:32},{xs:8,sm:8,md:8,lg:24,xl:32}]},{default:a(()=>{var V;return[l(p)?(k(),I(h,{key:0,xs:24,sm:12,md:8,lg:6},{default:a(()=>[t(w,{hoverable:"",style:{width:"15rem",marginBottom:"20px"}},{default:a(()=>[N("div",_l,[t(C,null,{default:a(()=>[t(P,{shape:"circle",animation:""}),t(y,{animation:""})]),_:1})])]),_:1})]),_:1})):(k(!0),ne(he,{key:1},Le((V=l(e))==null?void 0:V.data,B=>(k(),I(h,{key:B.name,xs:24,sm:12,md:8,lg:6},{default:a(()=>[t(fl,{channel:B,onDeleted:l(r),onEdit:T=>i(B)},null,8,["channel","onDeleted","onEdit"])]),_:2},1024))),128))]}),_:1})]),_:1}),t(ul,{ref_key:"editModal",ref:d,onChanged:l(r)},null,8,["onChanged"])],64)}}}),gl=O({__name:"webui",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue");return(r,p)=>{const d=se,s=we,i=G,m=ie,f=At,u=J,S=de,b=j;return k(),I(b,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.server.title")),1)]),_:1}),t(i,{label:l(n)("page.settings.tab.config.server.address"),field:"server.address",required:"","validate-trigger":"focus"},{default:a(()=>[t(s,{modelValue:e.value.address,"onUpdate:modelValue":p[0]||(p[0]=_=>e.value.address=_),style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.config.server.port"),field:"server.http",required:"","validate-trigger":"focus",rules:[{max:65535,message:l(n)("page.settings.tab.config.server.port.error")},{min:1,message:l(n)("page.settings.tab.config.server.port.error")}]},{default:a(()=>[t(m,{modelValue:e.value.http,"onUpdate:modelValue":p[1]||(p[1]=_=>e.value.http=_),max:65535,min:1,style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(i,{label:l(n)("page.settings.tab.config.server.prefix"),tooltip:l(n)("page.settings.tab.config.server.prefix.tips"),field:"server.prefix",required:"","validate-trigger":"focus",rules:[{type:"url",required:!0},{match:/[^\/]$/,message:l(n)("page.settings.tab.config.server.prefix.error")}]},{default:a(()=>[t(s,{modelValue:e.value.prefix,"onUpdate:modelValue":p[2]||(p[2]=_=>e.value.prefix=_),style:{width:"200px"}},null,8,["modelValue"])]),_:1},8,["label","tooltip","rules"]),t(i,{label:"Token",field:"server.token",required:""},{default:a(()=>[t(f,{modelValue:e.value.token,"onUpdate:modelValue":p[3]||(p[3]=_=>e.value.token=_),style:{width:"350px"}},null,8,["modelValue"])]),_:1}),t(i,{label:l(n)("page.settings.tab.config.server.cors"),field:"server.allow_cors"},te({default:a(()=>[t(u,{modelValue:e.value.allow_cors,"onUpdate:modelValue":p[4]||(p[4]=_=>e.value.allow_cors=_)},null,8,["modelValue"])]),_:2},[e.value.allow_cors?{name:"extra",fn:a(()=>[t(S,{type:"warning"},{default:a(()=>[c(g(l(n)("page.settings.tab.config.server.cors.tips")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),bl={id:"top",style:{position:"relative"}},vl=O({__name:"index",setup(o){const{t:n}=z(),e=nt({server:{},logger:{},lookup:{},persist:{},btn:{},ip_database:{},privacy:{},proxy:{},performance:{},resolvers:{}}),{loading:r}=xe(aa,{onSuccess:s=>{Object.assign(e,s.data)}}),p=Q(!1),d=()=>{p.value=!0,la(e).then(s=>{le.success(s.message)}).catch(s=>{le.error(s.message)}).finally(()=>{p.value=!1})};return(s,i)=>{const m=se,f=de,u=j,S=st,b=it,_=Ee("i18n-t"),C=G,P=J,y=rt,w=zt,h=pe,$=We,V=ut;return k(),I(V,{style:{width:"100%"},loading:l(r),dot:""},{default:a(()=>[N("div",bl,[t($,{model:e,"scroll-to-first-error":!0},{default:a(()=>[t(u,{direction:"vertical",fill:"",size:"large"},{default:a(()=>[t(u,{direction:"vertical",fill:"",style:{width:"100%"}},{default:a(()=>[t(m,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.title")),1)]),_:1}),t(f,null,{default:a(()=>[c(g(l(n)("page.settings.tab.config.tips")),1)]),_:1})]),_:1}),t(C,{label:l(n)("page.settings.tab.config.language")},{extra:a(()=>[t(_,{keypath:"page.settings.tab.config.language.tips"},{not:a(()=>[N("strong",null,g(l(n)("page.settings.tab.config.language.tips.not")),1)]),_:1})]),default:a(()=>[t(b,{modelValue:e.language,"onUpdate:modelValue":i[0]||(i[0]=B=>e.language=B)},{default:a(()=>[t(S,{value:"en_us"},{default:a(()=>i[12]||(i[12]=[c("English")])),_:1}),t(S,{value:"zh_cn"},{default:a(()=>i[13]||(i[13]=[c("简体中文")])),_:1}),t(S,{value:"default"},{default:a(()=>[c(g(l(n)("page.settings.tab.config.language.default")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(C,{label:l(n)("page.settings.tab.config.privacy.errorReport"),field:"privacy.error_reporting"},{default:a(()=>[t(P,{modelValue:e.privacy.error_reporting,"onUpdate:modelValue":i[1]||(i[1]=B=>e.privacy.error_reporting=B)},null,8,["modelValue"])]),_:1},8,["label"]),t(y),t(gl,{modelValue:e.server,"onUpdate:modelValue":i[2]||(i[2]=B=>e.server=B)},null,8,["modelValue"]),t(y),t(Ja,{modelValue:e.logger,"onUpdate:modelValue":i[3]||(i[3]=B=>e.logger=B)},null,8,["modelValue"]),t(y),t(Ka,{modelValue:e.lookup,"onUpdate:modelValue":i[4]||(i[4]=B=>e.lookup=B)},null,8,["modelValue"]),t(y),t(tl,{modelValue:e.persist,"onUpdate:modelValue":i[5]||(i[5]=B=>e.persist=B)},null,8,["modelValue"]),t(y),t(Wa,{modelValue:e.btn,"onUpdate:modelValue":i[6]||(i[6]=B=>e.btn=B)},null,8,["modelValue"]),t(y),t(Za,{proxy:e.proxy,"onUpdate:proxy":i[7]||(i[7]=B=>e.proxy=B),resolvers:e.resolvers,"onUpdate:resolvers":i[8]||(i[8]=B=>e.resolvers=B)},null,8,["proxy","resolvers"]),t(y),t(Xa,{modelValue:e.ip_database,"onUpdate:modelValue":i[9]||(i[9]=B=>e.ip_database=B)},null,8,["modelValue"]),t(y),t(el,{modelValue:e.performance,"onUpdate:modelValue":i[10]||(i[10]=B=>e.performance=B)},null,8,["modelValue"]),t(y),t(cl),i[14]||(i[14]=N("br",null,null,-1)),t(C,{"label-col-flex":"0"},{default:a(()=>[t(h,{"html-type":"submit",type:"primary",loading:p.value,onClick:i[11]||(i[11]=B=>d())},{icon:a(()=>[t(w)]),default:a(()=>[c(" "+g(l(n)("page.settings.tab.profile.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["loading"])}}});var Nt=(o=>(o.Linux="Linux",o.Windows="Windows",o.MacOS="Mac OS X",o.FreeBSD="FreeBSD",o.Solaris="Solaris",o.Other="Other",o))(Nt||{});const yl=O({__name:"multiClick",props:{required:{},timeLimit:{}},emits:["multiClick"],setup(o,{emit:n}){const e=n,r=Q(0),p=Q(null),d=()=>{r.value++,p.value||(p.value=setTimeout(()=>{r.value=0,p.value=null},o.timeLimit)),r.value===o.required&&(clearTimeout(p.value),p.value=null,r.value=0,e("multiClick"))};return(s,i)=>(k(),ne("button",{class:"no-style-button",onClick:d},[ea(s.$slots,"default",{},void 0,!0)]))}}),hl=Se(yl,[["__scopeId","data-v-e4301f4d"]]);var Ne={exports:{}},Vl=Ne.exports,yt;function kl(){return yt||(yt=1,function(o,n){(function(e,r){o.exports=r()})(Vl,function(){var e,r,p=1e3,d=6e4,s=36e5,i=864e5,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=31536e6,u=2628e6,S=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,b={years:f,months:u,days:i,hours:s,minutes:d,seconds:p,milliseconds:1,weeks:6048e5},_=function(T){return T instanceof V},C=function(T,x,v){return new V(T,v,x.$l)},P=function(T){return r.p(T)+"s"},y=function(T){return T<0},w=function(T){return y(T)?Math.ceil(T):Math.floor(T)},h=function(T){return Math.abs(T)},$=function(T,x){return T?y(T)?{negative:!0,format:""+h(T)+x}:{negative:!1,format:""+T+x}:{negative:!1,format:""}},V=function(){function T(v,R,U){var M=this;if(this.$d={},this.$l=U,v===void 0&&(this.$ms=0,this.parseFromMilliseconds()),R)return C(v*b[P(R)],this);if(typeof v=="number")return this.$ms=v,this.parseFromMilliseconds(),this;if(typeof v=="object")return Object.keys(v).forEach(function(ae){M.$d[P(ae)]=v[ae]}),this.calMilliseconds(),this;if(typeof v=="string"){var Y=v.match(S);if(Y){var A=Y.slice(2).map(function(ae){return ae!=null?Number(ae):0});return this.$d.years=A[0],this.$d.months=A[1],this.$d.weeks=A[2],this.$d.days=A[3],this.$d.hours=A[4],this.$d.minutes=A[5],this.$d.seconds=A[6],this.calMilliseconds(),this}}return this}var x=T.prototype;return x.calMilliseconds=function(){var v=this;this.$ms=Object.keys(this.$d).reduce(function(R,U){return R+(v.$d[U]||0)*b[U]},0)},x.parseFromMilliseconds=function(){var v=this.$ms;this.$d.years=w(v/f),v%=f,this.$d.months=w(v/u),v%=u,this.$d.days=w(v/i),v%=i,this.$d.hours=w(v/s),v%=s,this.$d.minutes=w(v/d),v%=d,this.$d.seconds=w(v/p),v%=p,this.$d.milliseconds=v},x.toISOString=function(){var v=$(this.$d.years,"Y"),R=$(this.$d.months,"M"),U=+this.$d.days||0;this.$d.weeks&&(U+=7*this.$d.weeks);var M=$(U,"D"),Y=$(this.$d.hours,"H"),A=$(this.$d.minutes,"M"),ae=this.$d.seconds||0;this.$d.milliseconds&&(ae+=this.$d.milliseconds/1e3,ae=Math.round(1e3*ae)/1e3);var ce=$(ae,"S"),De=v.negative||R.negative||M.negative||Y.negative||A.negative||ce.negative,me=Y.format||A.format||ce.format?"T":"",re=(De?"-":"")+"P"+v.format+R.format+M.format+me+Y.format+A.format+ce.format;return re==="P"||re==="-P"?"P0D":re},x.toJSON=function(){return this.toISOString()},x.format=function(v){var R=v||"YYYY-MM-DDTHH:mm:ss",U={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return R.replace(m,function(M,Y){return Y||String(U[M])})},x.as=function(v){return this.$ms/b[P(v)]},x.get=function(v){var R=this.$ms,U=P(v);return U==="milliseconds"?R%=1e3:R=U==="weeks"?w(R/b[U]):this.$d[U],R||0},x.add=function(v,R,U){var M;return M=R?v*b[P(R)]:_(v)?v.$ms:C(v,this).$ms,C(this.$ms+M*(U?-1:1),this)},x.subtract=function(v,R){return this.add(v,R,!0)},x.locale=function(v){var R=this.clone();return R.$l=v,R},x.clone=function(){return C(this.$ms,this)},x.humanize=function(v){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!v)},x.valueOf=function(){return this.asMilliseconds()},x.milliseconds=function(){return this.get("milliseconds")},x.asMilliseconds=function(){return this.as("milliseconds")},x.seconds=function(){return this.get("seconds")},x.asSeconds=function(){return this.as("seconds")},x.minutes=function(){return this.get("minutes")},x.asMinutes=function(){return this.as("minutes")},x.hours=function(){return this.get("hours")},x.asHours=function(){return this.as("hours")},x.days=function(){return this.get("days")},x.asDays=function(){return this.as("days")},x.weeks=function(){return this.get("weeks")},x.asWeeks=function(){return this.as("weeks")},x.months=function(){return this.get("months")},x.asMonths=function(){return this.as("months")},x.years=function(){return this.get("years")},x.asYears=function(){return this.as("years")},T}(),B=function(T,x,v){return T.add(x.years()*v,"y").add(x.months()*v,"M").add(x.days()*v,"d").add(x.hours()*v,"h").add(x.minutes()*v,"m").add(x.seconds()*v,"s").add(x.milliseconds()*v,"ms")};return function(T,x,v){e=v,r=v().$utils(),v.duration=function(M,Y){var A=v.locale();return C(M,{$l:A},Y)},v.isDuration=_;var R=x.prototype.add,U=x.prototype.subtract;x.prototype.add=function(M,Y){return _(M)?B(this,M,1):R.bind(this)(M,Y)},x.prototype.subtract=function(M,Y){return _(M)?B(this,M,-1):U.bind(this)(M,Y)}}})}(Ne)),Ne.exports}var xl=kl();const wl=Tt(xl);var He={exports:{}},$l=He.exports,ht;function Sl(){return ht||(ht=1,function(o,n){(function(e,r){o.exports=r()})($l,function(){return function(e,r,p){e=e||{};var d=r.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(f,u,S,b){return d.fromToBase(f,u,S,b)}p.en.relativeTime=s,d.fromToBase=function(f,u,S,b,_){for(var C,P,y,w=S.$locale().relativeTime||s,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],$=h.length,V=0;V<$;V+=1){var B=h[V];B.d&&(C=b?p(f).diff(S,B.d,!0):S.diff(f,B.d,!0));var T=(e.rounding||Math.round)(Math.abs(C));if(y=C>0,T<=B.r||!B.r){T<=1&&V>0&&(B=h[V-1]);var x=w[B.l];_&&(T=_(""+T)),P=typeof x=="string"?x.replace("%d",T):x(T,u,B.l,y);break}}if(u)return P;var v=y?w.future:w.past;return typeof v=="function"?v(P):v.replace("%s",P)},d.to=function(f,u){return i(f,u,this,!0)},d.from=function(f,u){return i(f,u,this)};var m=function(f){return f.$u?p.utc():p()};d.toNow=function(f){return this.to(m(this),f)},d.fromNow=function(f){return this.from(m(this),f)}}})}(He)),He.exports}var Il=Sl();const Pl=Tt(Il);var tt={},ee={},fe={},Vt;function Ge(){if(Vt)return fe;Vt=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.isIP=fe.isIPv6=fe.isIPv4=void 0;var o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",n="("+o+"[.]){3}"+o,e=new RegExp("^"+n+"$"),r="(?:[0-9a-fA-F]{1,4})",p=new RegExp("^("+("(?:"+r+":){7}(?:"+r+"|:)|")+("(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|")+("(?:"+r+":){5}(?::"+n+"|(:"+r+"){1,2}|:)|")+("(?:"+r+":){4}(?:(:"+r+"){0,1}:"+n+"|(:"+r+"){1,3}|:)|")+("(?:"+r+":){3}(?:(:"+r+"){0,2}:"+n+"|(:"+r+"){1,4}|:)|")+("(?:"+r+":){2}(?:(:"+r+"){0,3}:"+n+"|(:"+r+"){1,5}|:)|")+("(?:"+r+":){1}(?:(:"+r+"){0,4}:"+n+"|(:"+r+"){1,6}|:)|")+("(?::((?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))")+")(%[0-9a-zA-Z]{1,})?$");function d(m){return e.test(m)}fe.isIPv4=d;function s(m){return p.test(m)}fe.isIPv6=s;function i(m){return d(m)?4:s(m)?6:0}return fe.isIP=i,fe}var je={},kt;function Ht(){return kt||(kt=1,Object.defineProperty(je,"__esModule",{value:!0}),je.default={localhost:{ipv4:["127.0.0.0/8"],ipv6:["::1/128"]},private:{ipv4:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16"],ipv6:["fe80::/10","fc00::/7"]},reserved:{ipv4:["0.0.0.0/8","100.64.0.0/10","169.254.0.0/16","192.0.0.0/24","192.0.2.0/24","192.88.99.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","224.0.0.0/4","240.0.0.0/4","255.255.255.255/32"],ipv6:["::/128","64:ff9b::/96","100::/64","2001::/32","2001:10::/28","2001:20::/28","2001:db8::/32","2002::/16","ff00::/8"]}}),je}var xt;function Cl(){if(xt)return ee;xt=1;var o=ee&&ee.__spreadArrays||function(){for(var b=0,_=0,C=arguments.length;_<C;_++)b+=arguments[_].length;for(var P=Array(b),y=0,_=0;_<C;_++)for(var w=arguments[_],h=0,$=w.length;h<$;h++,y++)P[y]=w[h];return P};Object.defineProperty(ee,"__esModule",{value:!0}),ee.isSpecial=ee.isReserved=ee.isLocalhost=ee.isPrivate=ee.createChecker=ee.isInSubnet=void 0;var n=Ge(),e=Ht();function r(b){if(!n.isIPv4(b))throw new Error("not a valid IPv4 address: "+b);var _=b.split(".");return(parseInt(_[0],10)<<24)+(parseInt(_[1],10)<<16)+(parseInt(_[2],10)<<8)+parseInt(_[3],10)>>>0}function p(b,_){return d(_)(b)}ee.isInSubnet=p;function d(b){if(Array.isArray(b)){var _=b.map(function(P){return s(P)});return function(P){var y=r(P);return _.some(function(w){return w(y)})}}var C=s(b);return function(P){var y=r(P);return C(y)}}ee.createChecker=d;function s(b){var _=b.split("/"),C=_[0],P=_[1],y=parseInt(P,10);if(!C||!Number.isInteger(y))throw new Error("not a valid IPv4 subnet: "+b);if(y<0||y>32)throw new Error("not a valid IPv4 prefix length: "+y+" (from "+b+")");var w=r(C);return function(h){if(y===0)return!0;var $=w>>32-y,V=h>>32-y;return $===V}}var i={};function m(b){return"private"in i||(i.private=d(e.default.private.ipv4)),i.private(b)}ee.isPrivate=m;function f(b){return"localhost"in i||(i.localhost=d(e.default.localhost.ipv4)),i.localhost(b)}ee.isLocalhost=f;function u(b){return"reserved"in i||(i.reserved=d(e.default.reserved.ipv4)),i.reserved(b)}ee.isReserved=u;function S(b){return"special"in i||(i.special=d(o(e.default.private.ipv4,e.default.localhost.ipv4,e.default.reserved.ipv4))),i.special(b)}return ee.isSpecial=S,ee}var W={},wt;function Ml(){if(wt)return W;wt=1;var o=W&&W.__spreadArrays||function(){for(var $=0,V=0,B=arguments.length;V<B;V++)$+=arguments[V].length;for(var T=Array($),x=0,V=0;V<B;V++)for(var v=arguments[V],R=0,U=v.length;R<U;R++,x++)T[x]=v[R];return T};Object.defineProperty(W,"__esModule",{value:!0}),W.isSpecial=W.isReserved=W.isIPv4MappedAddress=W.isLocalhost=W.isPrivate=W.createChecker=W.isInSubnet=W.extractMappedIpv4=void 0;var n=Ge(),e=Ht(),r=/\./,p=/^(.+:ffff:)(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?:%.+)?$/,d=/:/,s=/::/;function i($){var V=$.match(p);if(!V||!n.isIPv4(V[2]))throw new Error("not a mapped IPv4 address: "+$);var B=V[1],T=V[2],x=T.split(r).map(function(U){return parseInt(U,10)}),v=((x[0]<<8)+x[1]).toString(16),R=((x[2]<<8)+x[3]).toString(16);return""+B+v+":"+R}function m($){var V=$.match(p);if(!V||!n.isIPv4(V[2]))throw new Error("not a mapped IPv4 address: "+$);return V[2]}W.extractMappedIpv4=m;function f($){if(!n.isIPv6($))throw new Error("not a valid IPv6 address: "+$);if(r.test($))return f(i($));var V=$.split(s),B=V[0],T=V[1],x=B&&B.split(d)||[],v=T&&T.split(d)||[],R=new Array(8-(x.length+v.length));return x.concat(R,v)}function u($,V){return S(V)($)}W.isInSubnet=u;function S($){if(Array.isArray($)){var V=$.map(function(T){return b(T)});return function(T){var x=f(T);return V.some(function(v){return v(x)})}}var B=b($);return function(T){var x=f(T);return B(x)}}W.createChecker=S;function b($){var V=$.split("/"),B=V[0],T=V[1],x=parseInt(T,10);if(!B||!Number.isInteger(x))throw new Error("not a valid IPv6 CIDR subnet: "+$);if(x<0||x>128)throw new Error("not a valid IPv6 prefix length: "+x+" (from "+$+")");var v=f(B);return function(R){for(var U=0;U<8;++U){var M=Math.min(x-U*16,16);if(M<=0)break;var Y=(v[U]&&parseInt(v[U],16)||0)>>16-M,A=(R[U]&&parseInt(R[U],16)||0)>>16-M;if(Y!==A)return!1}return!0}}var _={};function C($){return"private"in _||(_.private=S(e.default.private.ipv6)),_.private($)}W.isPrivate=C;function P($){return"localhost"in _||(_.localhost=S(e.default.localhost.ipv6)),_.localhost($)}W.isLocalhost=P;function y($){if("mapped"in _||(_.mapped=S("::ffff:0:0/96")),_.mapped($)){var V=$.match(p);return!!(V&&n.isIPv4(V[2]))}return!1}W.isIPv4MappedAddress=y;function w($){return"reserved"in _||(_.reserved=S(e.default.reserved.ipv6)),_.reserved($)}W.isReserved=w;function h($){return"special"in _||(_.special=S(o(e.default.private.ipv6,e.default.localhost.ipv6,e.default.reserved.ipv6))),_.special($)}return W.isSpecial=h,W}var $t;function Ul(){return $t||($t=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.check=o.isSpecial=o.isReserved=o.isIPv4MappedAddress=o.isLocalhost=o.isPrivate=o.createChecker=o.isInSubnet=o.IPv6=o.IPv4=o.isIPv6=o.isIPv4=o.isIP=void 0;var n=Cl();o.IPv4=n;var e=Ml();o.IPv6=e;var r=Ge(),p=Ge();Object.defineProperty(o,"isIP",{enumerable:!0,get:function(){return p.isIP}}),Object.defineProperty(o,"isIPv4",{enumerable:!0,get:function(){return p.isIPv4}}),Object.defineProperty(o,"isIPv6",{enumerable:!0,get:function(){return p.isIPv6}});function d(b,_){return s(_)(b)}o.isInSubnet=d;function s(b){if(!Array.isArray(b))return s([b]);var _=b.reduce(function(y,w){var h=w.split("/")[0];return y[r.isIP(h)].push(w),y},{0:[],4:[],6:[]});if(_[0].length!==0)throw new Error("some subnets are not valid IP addresses: "+_[0]);var C=n.createChecker(_[4]),P=e.createChecker(_[6]);return function(y){if(!r.isIP(y))throw new Error("not a valid IPv4 or IPv6 address: "+y);return r.isIPv6(y)&&e.isIPv4MappedAddress(y)?P(y)||C(e.extractMappedIpv4(y)):r.isIPv6(y)?P(y):C(y)}}o.createChecker=s;function i(b){return r.isIPv6(b)?e.isIPv4MappedAddress(b)?n.isPrivate(e.extractMappedIpv4(b)):e.isPrivate(b):n.isPrivate(b)}o.isPrivate=i;function m(b){return r.isIPv6(b)?e.isIPv4MappedAddress(b)?n.isLocalhost(e.extractMappedIpv4(b)):e.isLocalhost(b):n.isLocalhost(b)}o.isLocalhost=m;function f(b){return r.isIPv6(b)?e.isIPv4MappedAddress(b):!1}o.isIPv4MappedAddress=f;function u(b){return r.isIPv6(b)?e.isIPv4MappedAddress(b)?n.isReserved(e.extractMappedIpv4(b)):e.isReserved(b):n.isReserved(b)}o.isReserved=u;function S(b){return r.isIPv6(b)?e.isIPv4MappedAddress(b)?n.isSpecial(e.extractMappedIpv4(b)):e.isSpecial(b):n.isSpecial(b)}o.isSpecial=S,o.check=d}(tt)),tt}var at=Ul();const St="[a-fA-F\\d:]",ye=o=>o&&o.includeBoundaries?`(?:(?<=\\s|^)(?=${St})|(?<=${St})(?=\\s|$))`:"",ue="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",K="[a-fA-F\\d]{1,4}",Je=`
(?:
(?:${K}:){7}(?:${K}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${K}:){6}(?:${ue}|:${K}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${K}:){5}(?::${ue}|(?::${K}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${K}:){4}(?:(?::${K}){0,1}:${ue}|(?::${K}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${K}:){3}(?:(?::${K}){0,2}:${ue}|(?::${K}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${K}:){2}(?:(?::${K}){0,3}:${ue}|(?::${K}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${K}:){1}(?:(?::${K}){0,4}:${ue}|(?::${K}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${K}){0,5}:${ue}|(?::${K}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Bl=new RegExp(`(?:^${ue}$)|(?:^${Je}$)`),Tl=new RegExp(`^${ue}$`),Rl=new RegExp(`^${Je}$`),pt=o=>o&&o.exact?Bl:new RegExp(`(?:${ye(o)}${ue}${ye(o)})|(?:${ye(o)}${Je}${ye(o)})`,"g");pt.v4=o=>o&&o.exact?Tl:new RegExp(`${ye(o)}${ue}${ye(o)}`,"g");pt.v6=o=>o&&o.exact?Rl:new RegExp(`${ye(o)}${Je}${ye(o)}`,"g");function Ll(o){const n=(...e)=>o(...e);return Object.defineProperty(n,"name",{value:`functionTimeout(${o.name||"<anonymous>"})`,configurable:!0}),n}const{toString:El}=Object.prototype;function Al(o){return El.call(o)==="[object RegExp]"}const It={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"};function Dl(o,n={}){if(!Al(o))throw new TypeError("Expected a RegExp instance");const e=Object.keys(It).map(p=>(typeof n[p]=="boolean"?n[p]:o[p])?It[p]:"").join(""),r=new RegExp(n.source||o.source,e);return r.lastIndex=typeof n.lastIndex=="number"?n.lastIndex:o.lastIndex,r}function Ol(o,n,{timeout:e}={}){try{return Ll(()=>Dl(o).test(n),{timeout:e})()}catch(r){throw r}}const ql=45,zl={timeout:400};function jl(o){return o.length>ql?!1:Ol(pt({exact:!0}),o,zl)}const Nl=O({__name:"btnAbilitiesModal",setup(o,{expose:n}){const{t:e,d:r}=z(),p=Q(!1),d=Q([]);return n({showModal:s=>{d.value=s,p.value=!0}}),(s,i)=>{const m=de,f=qt,u=dt,S=Xe,b=ha,_=j,C=Pe,P=Ce,y=Ye;return k(),I(y,{visible:p.value,"onUpdate:visible":i[0]||(i[0]=w=>p.value=w),title:"BTN "+l(e)("page.settings.tab.info.btn.abilities"),"unmount-on-close":"","hide-cancel":"",width:"auto"},{default:a(()=>[t(_,{direction:"vertical",fill:""},{default:a(()=>[t(m,null,{default:a(()=>[c(g(l(e)("page.settings.tab.info.btn.abilities.tips")),1)]),_:1}),t(P,{data:d.value,"virtual-list-props":{height:500,threshold:5},style:{"max-width":"60rem"}},{item:a(({item:w})=>[t(C,{"action-layout":"vertical"},{actions:a(()=>[t(_,{style:{cursor:"default"}},{default:a(()=>[t(m,null,{default:a(()=>[c(g(l(e)("page.settings.tab.info.btn.abilities.list.lastSuccess"))+":  ",1),t(S,{content:w.lastMessage},{default:a(()=>[t(u,{color:w.lastSuccess?"green":"red"},{default:a(()=>[c(g(w.lastSuccess?l(e)("page.settings.tab.info.btn.abilities.list.lastSuccess.success"):l(e)("page.settings.tab.info.btn.abilities.list.lastSuccess.failed")),1)]),_:2},1032,["color"])]),_:2},1032,["content"])]),_:2},1024),i[1]||(i[1]=N("br",null,null,-1)),t(m,null,{default:a(()=>[c(g(l(e)("page.settings.tab.info.btn.abilities.list.lastSuccessTime"))+": ",1),t(b),c(" "+g(l(r)(w.lastUpdateAt,"long")),1)]),_:2},1024)]),_:2},1024)]),default:a(()=>[t(f,{title:w.displayName},{description:a(()=>[t(Pt,{content:w.description},null,8,["content"])]),_:2},1032,["title"])]),_:2},1024)]),_:1},8,["data"])]),_:1})]),_:1},8,["visible","title"])}}}),Hl={key:1},Gl={key:1},Yl=O({__name:"index",setup(o){ze.extend(Pl),ze.extend(wl);const n=Te(()=>Be(()=>import("./logViewer-DeE6HljR.js"),__vite__mapDeps([13,1,2,3,4,14]),import.meta.url)),{t:e,d:r}=z(),p=Q(!0),d=Q(!0),{data:s}=xe(oa,{onSuccess:()=>{p.value=!1}}),i=_e(),m=D(()=>{var x,v;return 1-(((x=s.value)==null?void 0:x.data.system.memory.free)??0)/((((v=s.value)==null?void 0:v.data.system.memory.total)??1)+1)}),f=D(()=>{var x,v;return 1-(((x=s.value)==null?void 0:x.data.jvm.memory.heap.free)??0)/((((v=s.value)==null?void 0:v.data.jvm.memory.heap.max)??1)+1)}),u=D(()=>m.value>.85?"danger":m.value>.7?"warning":"normal"),S=D(()=>f.value>.85?"danger":f.value>.7?"warning":"normal"),b="2.4.4",_=D(()=>`395a8944d7f8c831b6f6bc7d1d27b9504a497527
`),{data:C}=xe(ia,{defaultParams:["btn"],onSuccess:()=>d.value=!1}),{data:P,loading:y}=xe(na,{ready:D(()=>{var x;return((x=C.value)==null?void 0:x.data)??!1})}),w=D(()=>y||d.value),h=Q(),$=D(()=>{var x;return!!((x=s.value)!=null&&x.data.system.network.client_ip&&jl(s.value.data.system.network.client_ip)&&(s.value.data.system.network.client_ip==="::1"||at.isInSubnet(s.value.data.system.network.client_ip,"127.0.0.1/8")||at.isInSubnet(s.value.data.system.network.client_ip,"172.17.0.0/16")||at.isInSubnet(s.value.data.system.network.client_ip,"172.18.0.0/16")))}),V={Windows:$e("icon-Windows"),Linux:$e("icon-linux"),FreeBSD:$e("icon-freebsd"),"Mac OS X":$e("icon-mac-os"),Solaris:$e("icon-solaris"),Other:$e("icon-other")},B=Q(!1),T=()=>{le.info(e("page.settings.tab.info.downloadHeap")),setTimeout(async()=>{const x=await sa(),v=document.createElement("a");v.href=x.toString(),v.target="_blank",v.download="heapdump.hprof.gz",v.click()},1e3)};return(x,v)=>{const R=se,U=Ot,M=Va,Y=Ie,A=ka,ae=xa,ce=rt,De=Kt,me=Xe,re=j,ft=wa,_t=pe,ge=de,Oe=dt,Gt=$a,ct=Sa,Yt=Qt,Ft=Ye;return k(),ne(he,null,[p.value?(k(),I(re,{key:0,direction:"vertical",fill:""},{default:a(()=>[t(R,{heading:3},{default:a(()=>[c(g(l(e)("page.settings.tab.info.title")),1)]),_:1}),t(ae,{size:.5,disabled:""},{first:a(()=>[t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.version"),align:{label:"right"}},{default:a(()=>[t(M,{label:l(e)("page.settings.tab.info.version.current")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.webui")},{default:a(()=>[c(g(l(b))+" (",1),t(Y,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${_.value}`},{default:a(()=>[c(g(_.value.substring(0,8)),1)]),_:1},8,["href"]),v[4]||(v[4]=c(") "))]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.ReleaseType")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.compileTime")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.uptime")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.plus")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),second:a(()=>[t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.system"),align:{label:"right"}},{default:a(()=>[t(M,{label:l(e)("page.settings.tab.info.system.os")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.system.version")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.system.cores")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.system.memory.total")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.system.memory.free")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.system.load")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),t(ce),t(ae,{size:.5,disabled:""},{first:a(()=>[t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.network"),align:{label:"right"}},{default:a(()=>[t(M,{label:l(e)("page.settings.tab.info.network.internet")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.network.proxy")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.network.reverseProxy")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,null,{label:a(()=>[c(g(l(e)("page.settings.tab.info.network.clientIP"))+" ",1),t(me,{content:l(e)("page.settings.tab.info.network.clientIP.warning")},{default:a(()=>[t(De)]),_:1},8,["content"])]),default:a(()=>[t(U,{rows:1})]),_:1})]),_:1},8,["title"])]),second:a(()=>[t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.runtime"),align:{label:"right"}},{default:a(()=>[t(M,{label:l(e)("page.settings.tab.info.runtime.version")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.runtime.vendor")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.runtime.runtime")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.runtime.heapMemory")},{default:a(()=>[t(U,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),t(ce),t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.btn"),align:{label:"right"}},{default:a(()=>[t(M,{label:l(e)("page.settings.tab.info.btn.module")},{default:a(()=>[t(U,{rows:1,widths:[300]})]),_:1},8,["label"])]),_:1},8,["title"]),t(U,{widths:[400]}),t(U,{widths:[400]}),t(U,{widths:[400]}),t(U,{widths:[400]}),t(U,{widths:[400]})]),_:1})):(k(),I(re,{key:1,direction:"vertical",fill:""},{default:a(()=>[t(re,{style:{display:"flex","justify-content":"space-between"}},{default:a(()=>[t(R,{heading:3},{default:a(()=>[c(g(l(e)("page.settings.tab.info.title")),1)]),_:1}),t(_t,{type:"primary",onClick:v[0]||(v[0]=L=>B.value=!0)},{icon:a(()=>[t(ft)]),default:a(()=>[c(" "+g(l(e)("page.settings.tab.info.log.button")),1)]),_:1})]),_:1}),t(ae,{size:.5,disabled:""},{first:a(()=>[t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.version"),align:{label:"right"}},{default:a(()=>[t(M,{label:l(e)("page.settings.tab.info.version.current")},{default:a(()=>{var L,E;return[c(g((L=l(s))==null?void 0:L.data.peerbanhelper.version)+" (",1),t(Y,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${(E=l(s))==null?void 0:E.data.peerbanhelper.commit_id}`},{default:a(()=>{var H;return[c(g((H=l(s))==null?void 0:H.data.peerbanhelper.commit_id.substring(0,8)),1)]}),_:1},8,["href"]),v[5]||(v[5]=c(") "))]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.webui")},{default:a(()=>{var L,E;return[c(g(l(b))+" (",1),t(Y,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${_.value}`},{default:a(()=>[c(g(_.value.substring(0,8)),1)]),_:1},8,["href"]),v[7]||(v[7]=c(") ")),((L=l(s))==null?void 0:L.data.peerbanhelper.commit_id.substring(0,8))!==_.value.substring(0,8)&&((E=l(s))!=null&&E.data.peerbanhelper.commit_id)?(k(),I(me,{key:0,content:l(e)("page.settings.tab.info.version.webui.versionNotMatch")},{default:a(()=>[t(ge,{type:"warning",style:{"font-size":"1"}},{default:a(()=>v[6]||(v[6]=[N("svg",{class:"arco-icon",t:"1733594203567",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2704",width:"200",height:"200"},[N("path",{d:"M951 799.49l-383.89-651a64 64 0 0 0-110.26 0L73 799.49C47.83 842.16 78.59 896 128.12 896h767.77c49.52 0 80.28-53.84 55.11-96.51zM128.12 832l383.62-651a1 1 0 0 1 0.26 0l383.89 651z",fill:"currentColor","p-id":"2705"}),N("path",{d:"M470 393.88l8.59 244.51a33.18 33.18 0 0 0 66.31 0.06L554 394a42 42 0 1 0-84-0.08z",fill:"currentColor","p-id":"2706"}),N("path",{d:"M512 758.4m-40 0a40 40 0 1 0 80 0 40 40 0 1 0-80 0Z",fill:"currentColor","p-id":"2707"})],-1)])),_:1})]),_:1},8,["content"])):q("",!0)]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.ReleaseType")},{default:a(()=>{var L;return[t(Oe,{color:l(Xt)(((L=l(s))==null?void 0:L.data.peerbanhelper.release)??"unknown")},{default:a(()=>{var E;return[c(g((E=l(s))==null?void 0:E.data.peerbanhelper.release),1)]}),_:1},8,["color"])]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.compileTime")},{default:a(()=>{var L;return[c(g(l(r)(l(ze).unix(((L=l(s))==null?void 0:L.data.peerbanhelper.compile_time)??0).toDate(),"long")),1)]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.uptime")},{default:a(()=>{var L;return[c(g(l(ze).duration({seconds:(L=l(s))==null?void 0:L.data.peerbanhelper.uptime}).humanize()),1)]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.version.plus")},{default:a(()=>{var L,E;return[N("button",{class:"tag-button",onClick:v[1]||(v[1]=H=>l(i).emitter.emit("open-plus-modal"))},[t(Oe,{color:(L=l(i).plusStatus)!=null&&L.activated?"green":"red"},te({default:a(()=>{var H;return[c(" "+g(l(e)((H=l(i).plusStatus)!=null&&H.activated?"page.settings.tab.info.version.plus.active":"page.settings.tab.info.version.plus.inactive")),1)]}),_:2},[(E=l(i).plusStatus)!=null&&E.activated?{name:"icon",fn:a(()=>[t(Gt)]),key:"0"}:void 0]),1032,["color"])])]}),_:1},8,["label"])]),_:1},8,["title"])]),second:a(()=>[t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.system"),align:{label:"right"}},{default:a(()=>{var L;return[t(M,{label:l(e)("page.settings.tab.info.system.os")},{default:a(()=>{var E,H,be,Me;return[(k(),I(Bt(V[((E=l(s))==null?void 0:E.data.system.os)??"Other"]))),c(" "+g(((H=l(s))==null?void 0:H.data.system.os)===l(Nt).MacOS?l(Jt)((be=l(s))==null?void 0:be.data.system.version,"11.0.0",">")?"macOS":"data?.data.system.os":(Me=l(s))==null?void 0:Me.data.system.os),1)]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.system.version")},{default:a(()=>[t(re,null,{default:a(()=>{var E;return[c(g((E=l(s))==null?void 0:E.data.system.version)+" ",1),t(Oe,{color:"arcoblue"},{default:a(()=>{var H;return[c(g((H=l(s))==null?void 0:H.data.system.architecture),1)]}),_:1})]}),_:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.system.cores")},{default:a(()=>{var E;return[c(g((E=l(s))==null?void 0:E.data.system.cores),1)]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.system.memory.total")},{default:a(()=>{var E;return[c(g(l(Re)(((E=l(s))==null?void 0:E.data.system.memory.total)??0)),1)]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.system.memory.free")},{default:a(()=>[t(re,{style:{display:"flex","align-items":"center"}},{default:a(()=>{var E,H,be;return[t(me,{content:`${Math.round((1-(((E=l(s))==null?void 0:E.data.system.memory.free)??0)/(((H=l(s))==null?void 0:H.data.system.memory.total)??1))*100)}% `+l(e)("page.settings.tab.info.system.memory.used")},{default:a(()=>[t(ct,{type:"circle",size:"mini",status:u.value,percent:m.value},null,8,["status","percent"])]),_:1},8,["content"]),c(" "+g(l(Re)(((be=l(s))==null?void 0:be.data.system.memory.free)??0))+"   "+g(l(e)("page.settings.tab.info.system.memory.available")),1)]}),_:1})]),_:1},8,["label"]),(((L=l(s))==null?void 0:L.data.system.load)??0)>0?(k(),I(M,{key:0,label:l(e)("page.settings.tab.info.system.load")},{default:a(()=>{var E;return[c(g((E=l(s))==null?void 0:E.data.system.load.toFixed(2)),1)]}),_:1},8,["label"])):q("",!0)]}),_:1},8,["title"])]),_:1}),t(ce),t(ae,{size:.5,disabled:""},{first:a(()=>[t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.network"),align:{label:"right"}},{default:a(()=>[t(M,{label:l(e)("page.settings.tab.info.network.internet")},{default:a(()=>v[8]||(v[8]=[c(" Unknown ")])),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.network.proxy")},{default:a(()=>{var L;return[c(g((L=l(s))!=null&&L.data.system.network.use_proxy?l(e)("page.settings.tab.info.network.yes"):l(e)("page.settings.tab.info.network.no")),1)]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.network.reverseProxy")},{default:a(()=>{var L;return[c(g((L=l(s))!=null&&L.data.system.network.reverse_proxy?l(e)("page.settings.tab.info.network.yes"):l(e)("page.settings.tab.info.network.no")),1)]}),_:1},8,["label"]),t(M,null,{label:a(()=>[c(g(l(e)("page.settings.tab.info.network.clientIP"))+" ",1),t(me,{content:l(e)("page.settings.tab.info.network.clientIP.tips")},{default:a(()=>[t(De)]),_:1},8,["content"])]),default:a(()=>{var L;return[t(ge,{code:"",copyable:""},{default:a(()=>{var E;return[c(g((E=l(s))==null?void 0:E.data.system.network.client_ip),1)]}),_:1}),$.value&&((L=l(s))!=null&&L.data.system.network.reverse_proxy)?(k(),I(me,{key:0,content:l(e)("page.settings.tab.info.network.clientIP.warning")},{default:a(()=>[t(ge,{type:"warning"},{default:a(()=>[t(Yt)]),_:1})]),_:1},8,["content"])):q("",!0)]}),_:1})]),_:1},8,["title"])]),second:a(()=>[t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.runtime"),align:{label:"right"}},{default:a(()=>[t(M,{label:l(e)("page.settings.tab.info.runtime.version")},{default:a(()=>[t(re,null,{default:a(()=>{var L,E;return[c(g((L=l(s))==null?void 0:L.data.jvm.version),1),t(Oe,{color:((E=l(s))==null?void 0:E.data.jvm.bitness)===64?"arcoblue":"orange"},{default:a(()=>{var H;return[c(g((H=l(s))==null?void 0:H.data.jvm.bitness)+"-Bit ",1)]}),_:1},8,["color"])]}),_:1})]),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.runtime.vendor")},{default:a(()=>{var L;return[c(g((L=l(s))==null?void 0:L.data.jvm.vendor),1)]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.runtime.runtime")},{default:a(()=>{var L;return[c(g((L=l(s))==null?void 0:L.data.jvm.runtime),1)]}),_:1},8,["label"]),t(M,{label:l(e)("page.settings.tab.info.runtime.heapMemory")},{default:a(()=>[t(hl,{required:5,"time-limit":3e3,onMultiClick:T},{default:a(()=>[t(re,{style:{display:"flex","align-items":"center",color:"var(--color-text-1)"}},{default:a(()=>{var L,E,H;return[t(me,{content:`${Math.round((1-(((L=l(s))==null?void 0:L.data.jvm.memory.heap.free)??0)/(((E=l(s))==null?void 0:E.data.jvm.memory.heap.max)??1))*100)}% `+l(e)("page.settings.tab.info.system.memory.used")},{default:a(()=>[t(ct,{type:"circle",size:"mini",status:S.value,percent:f.value},null,8,["status","percent"])]),_:1},8,["content"]),c(" "+g(l(Re)(((H=l(s))==null?void 0:H.data.jvm.memory.heap.free)??0))+"   "+g(l(e)("page.settings.tab.info.system.memory.available")),1)]}),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),t(ce),t(A,{column:1,size:"large",title:l(e)("page.settings.tab.info.btn"),align:{label:"right"}},{default:a(()=>{var L,E,H,be,Me;return[t(M,{label:l(e)("page.settings.tab.info.btn.module")},{default:a(()=>{var Z;return[d.value?(k(),I(U,{key:0,rows:1})):(k(),ne("div",Hl,[(Z=l(C))!=null&&Z.data?(k(),I(ge,{key:1},{default:a(()=>[c(g(l(e)("page.settings.tab.info.btn.enable")),1)]),_:1})):(k(),I(ge,{key:0},{default:a(()=>[c(g(l(e)("page.settings.tab.info.btn.disable")),1)]),_:1}))]))]}),_:1},8,["label"]),(L=l(C))!=null&&L.data?(k(),I(M,{key:0,label:l(e)("page.settings.tab.info.btn.status")},{default:a(()=>{var Z;return[w.value.value?(k(),I(U,{key:0,rows:1})):(k(),I(me,{key:1,content:(Z=l(P))==null?void 0:Z.data.configResult},{default:a(()=>{var Ke;return[t(ge,{type:(Ke=l(P))!=null&&Ke.data.configSuccess?"success":"warning"},{default:a(()=>{var Ue;return[c(g((Ue=l(P))!=null&&Ue.data.configSuccess?l(e)("page.settings.tab.info.btn.status.success"):l(e)("page.settings.tab.info.btn.status.fail")),1)]}),_:1},8,["type"])]}),_:1},8,["content"]))]}),_:1},8,["label"])):q("",!0),(E=l(C))!=null&&E.data?(k(),I(M,{key:1,label:l(e)("page.settings.tab.info.btn.status.configUrl")},{default:a(()=>[w.value.value?(k(),I(U,{key:0,rows:1})):(k(),I(ge,{key:1,code:"",copyable:""},{default:a(()=>{var Z;return[c(g((Z=l(P))==null?void 0:Z.data.configUrl),1)]}),_:1}))]),_:1},8,["label"])):q("",!0),(H=l(C))!=null&&H.data?(k(),I(M,{key:2,label:"App ID"},{default:a(()=>[w.value.value?(k(),I(U,{key:0,rows:1})):(k(),I(ge,{key:1,code:"",copyable:""},{default:a(()=>{var Z;return[c(g((Z=l(P))==null?void 0:Z.data.appId),1)]}),_:1}))]),_:1})):q("",!0),(be=l(C))!=null&&be.data?(k(),I(M,{key:3,label:"App Secret"},{default:a(()=>{var Z;return[w.value.value?(k(),I(U,{key:0,rows:1})):(k(),ne("div",Gl,g((Z=l(P))==null?void 0:Z.data.appSecret),1))]}),_:1})):q("",!0),(Me=l(C))!=null&&Me.data?(k(),I(M,{key:4,label:l(e)("page.settings.tab.info.btn.abilities")},{default:a(()=>[w.value.value?(k(),I(U,{key:0,rows:1})):(k(),I(re,{key:1,size:"mini"},{default:a(()=>{var Z;return[c(g(l(e)("page.settings.tab.info.btn.abilities.enable",{number:((Z=l(P))==null?void 0:Z.data.abilities.length)??0}))+" ",1),t(_t,{shape:"circle",type:"text",onClick:v[2]||(v[2]=Ke=>{var Ue,gt;return(gt=h.value)==null?void 0:gt.showModal(((Ue=l(P))==null?void 0:Ue.data.abilities)??[])})},{icon:a(()=>[t(ft)]),_:1})]}),_:1}))]),_:1},8,["label"])):q("",!0)]}),_:1},8,["title"])]),_:1})),t(Nl,{ref_key:"btnAbilityList",ref:h},null,512),t(Ft,{visible:B.value,"onUpdate:visible":v[3]||(v[3]=L=>B.value=L),title:l(e)("page.settings.tab.info.log.title"),"unmount-on-close":"","hide-cancel":"","mask-closable":!1,width:"auto"},{default:a(()=>[t(l(n))]),_:1},8,["visible","title"])],64)}}}),Fl=Se(Yl,[["__scopeId","data-v-d1345289"]]);async function Wl(){const o=_e();await o.serverAvailable;const n=new URL(Ve(o.endpoint,"api/laboratory/experiments"),location.href);return fetch(n,{headers:ke()}).then(e=>(o.assertResponseLogin(e),e.json()))}async function Xl(o,n){const e=_e();await e.serverAvailable;const r=new URL(Ve(e.endpoint,`api/laboratory/experiment/${o}`),location.href);return fetch(r,{method:"PUT",headers:ke(),body:JSON.stringify({status:n})}).then(p=>(e.assertResponseLogin(p),p.json()))}async function Jl(o){const n=_e();await n.serverAvailable;const e=new URL(Ve(n.endpoint,"api/laboratory/config"),location.href);return fetch(e,{method:"POST",headers:ke(),body:JSON.stringify(o)}).then(r=>(n.assertResponseLogin(r),r.json()))}const Kl={key:1,style:{width:"100%",display:"flex","justify-content":"center"}},Ql=O({__name:"index",setup(o){const{t:n}=z(),e=Q(!0),r=nt({enabled:!1}),{data:p,loading:d,refresh:s}=xe(Wl,{onSuccess:f=>{e.value=!1,r.enabled=f.data.labEnabled}}),i=async(f,u)=>{try{const S=await Xl(f,u);if(S.success)return s(),!0;throw new Error(S.message)}catch(S){return S instanceof Error&&le.error(S.message),!1}},m=async f=>{try{const u=await Jl({enabled:f});if(u.success)return s(),r.enabled=f,!0;throw new Error(u.message)}catch(u){return u instanceof Error&&le.error(u.message),!1}};return(f,u)=>{const S=se,b=Ie,_=Ee("i18n-t"),C=ot,P=ut,y=J,w=G,h=We,$=j,V=dt,B=qt,T=Pe,x=Ce;return k(),I($,{direction:"vertical",fill:""},{default:a(()=>[t(S,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.labs")),1)]),_:1}),t(C,{title:l(n)("page.settings.tab.labs.welcome")},{default:a(()=>[t(_,{keypath:"page.settings.tab.labs.welcome.content"},{github:a(()=>[t(b,{href:"https://github.com/PBH-BTN/PeerBanHelper/issues"},{default:a(()=>u[1]||(u[1]=[c("Github")])),_:1})]),_:1})]),_:1},8,["title"]),u[3]||(u[3]=N("br",null,null,-1)),e.value?(k(),I(P,{key:0,style:{width:"100%",height:"30rem",display:"flex","justify-content":"center","align-items":"center"},dot:""})):(k(),I($,{key:1,direction:"vertical",fill:"",size:"large"},{default:a(()=>{var v;return[t(h,{model:r},{default:a(()=>[t(w,{field:"enabled",label:l(n)("page.settings.tab.labs.enable")},{extra:a(()=>[c(g(l(n)("page.settings.tab.labs.enable.tips")),1)]),default:a(()=>[t(y,{modelValue:r.enabled,"onUpdate:modelValue":u[0]||(u[0]=R=>r.enabled=R),"before-change":R=>m(R)},null,8,["modelValue","before-change"])]),_:1},8,["label"])]),_:1},8,["model"]),r.enabled?(k(),I(S,{key:0,heading:5,style:{"text-indent":"2em"}},{default:a(()=>[c(g(l(n)("page.settings.tab.labs.list")),1)]),_:1})):q("",!0),u[2]||(u[2]=N("br",null,null,-1)),r.enabled?(k(),ne("div",Kl,[t(x,{data:(v=l(p))==null?void 0:v.data.experiments,style:{"max-width":"60rem"},loading:l(d)},{item:a(({item:R})=>[t(T,{"action-layout":"vertical"},{actions:a(()=>[t($,null,{default:a(()=>[c(g(l(n)("page.settings.tab.labs.action.enable"))+" ",1),t(y,{modelValue:R.activated,"onUpdate:modelValue":U=>R.activated=U,size:"small","before-change":U=>i(R.id,U)},null,8,["modelValue","onUpdate:modelValue","before-change"])]),_:2},1024)]),default:a(()=>[t(B,null,{title:a(()=>[c(g(R.title)+"   ",1),R.activated?(k(),I(V,{key:0,color:"green"},{default:a(()=>[c(g(l(n)("page.settings.tab.labs.enabled")),1)]),_:1})):q("",!0)]),description:a(()=>[t(Pt,{content:R.description},null,8,["content"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data","loading"])])):q("",!0)]}),_:1}))]),_:1})}}}),Zl=O({__name:"activeMonitoring",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=D({get:()=>e.value.traffic_monitoring.daily!==-1,set:d=>{e.value.traffic_monitoring.daily=d?1024*1024*100:-1}}),p=D({get:()=>e.value.traffic_monitoring.daily/(1024*1024),set:d=>{d?e.value.traffic_monitoring.daily=d*1024*1024:e.value.traffic_monitoring.daily=0}});return(d,s)=>{const i=J,m=de,f=G,u=ie,S=j;return k(),I(S,{direction:"vertical",fill:""},{default:a(()=>[t(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},te({default:a(()=>[t(i,{modelValue:e.value.enabled,"onUpdate:modelValue":s[0]||(s[0]=b=>e.value.enabled=b)},null,8,["modelValue"])]),_:2},[e.value.enabled?void 0:{name:"extra",fn:a(()=>[t(m,{type:"warning"},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.activeMonitor.disable.tips")),1)]),_:1})]),key:"0"}]),1032,["label"]),e.value.enabled?(k(),I(f,{key:0,label:l(n)("page.settings.tab.profile.module.activeMonitor.dataRetentionTime"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.dataRetentionTime.tips"),field:"model.data_retention_time"},{extra:a(()=>[c(" ="+g(l(oe)(e.value.data_retention_time)),1)]),default:a(()=>[t(u,{modelValue:e.value.data_retention_time,"onUpdate:modelValue":s[1]||(s[1]=b=>e.value.data_retention_time=b),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):q("",!0),e.value.enabled?(k(),I(f,{key:1,label:l(n)("page.settings.tab.profile.module.activeMonitor.dataCleanupInterval"),field:"model.data_cleanup_interval"},{extra:a(()=>[c(" ="+g(l(oe)(e.value.data_cleanup_interval)),1)]),default:a(()=>[t(u,{modelValue:e.value.data_cleanup_interval,"onUpdate:modelValue":s[2]||(s[2]=b=>e.value.data_cleanup_interval=b),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):q("",!0),e.value.enabled?(k(),I(f,{key:2,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.enable"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.tips"),field:"model.traffic_monitoring.daily"},{default:a(()=>[t(i,{modelValue:r.value,"onUpdate:modelValue":s[3]||(s[3]=b=>r.value=b)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])):q("",!0),e.value.enabled&&r.value?(k(),I(f,{key:3,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.value"),field:"model.traffic_monitoring.daily"},te({default:a(()=>[t(u,{modelValue:p.value,"onUpdate:modelValue":s[4]||(s[4]=b=>p.value=b),style:{width:"200px"},precision:2},{suffix:a(()=>s[5]||(s[5]=[c(" MB ")])),_:1},8,["modelValue"])]),_:2},[e.value.traffic_monitoring.daily>1024**3?{name:"extra",fn:a(()=>[c(" ="+g(l(Re)(e.value.traffic_monitoring.daily)),1)]),key:"0"}:void 0]),1032,["label"])):q("",!0)]),_:1})}}}),en=O({__name:"autoRangeBan",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const s=J,i=G,m=ie,f=j;return k(),I(f,{direction:"vertical",fill:""},{default:a(()=>[t(i,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled",tooltip:l(n)("page.settings.tab.profile.module.autoRangeBan.tips")},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(i,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.useGlobalBanTime"),field:"model.ban_duration"},te({default:a(()=>[t(f,null,{default:a(()=>[t(s,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=u=>r.value=u)},null,8,["modelValue"]),r.value?q("",!0):(k(),I(m,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>e.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(i,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.ipv4Prefix"),field:"model.ipv4"},{default:a(()=>[t(m,{modelValue:e.value.ipv4,"onUpdate:modelValue":d[3]||(d[3]=u=>e.value.ipv4=u),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.ipv6Prefix"),field:"model.ipv6"},{default:a(()=>[t(m,{modelValue:e.value.ipv6,"onUpdate:modelValue":d[4]||(d[4]=u=>e.value.ipv6=u),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),tn=O({__name:"btn",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const s=J,i=G,m=ie,f=j;return k(),I(f,{direction:"vertical",fill:""},{default:a(()=>[t(i,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.useGlobalBanTime"),field:"model.ban_duration"},te({default:a(()=>[t(f,null,{default:a(()=>[t(s,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=u=>r.value=u)},null,8,["modelValue"]),r.value?q("",!0):(k(),I(m,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>e.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),mt=O({__name:"banRuleListItem",props:Ut({placeholder:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const{t:n}=z(),e=["STARTS_WITH","ENDS_WITH","LENGTH","CONTAINS","EQUALS","REGEX"],r=["TRUE","FALSE","DEFAULT"],p=F(o,"modelValue");return(d,s)=>{const i=Pa,m=Xe,f=j,u=Ca,S=Ia,b=we;return k(),I(f,null,{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.peerIdBlackList.if"))+" ",1),t(S,{modelValue:p.value.method,"onUpdate:modelValue":s[0]||(s[0]=_=>p.value.method=_),style:{width:"150px"},placeholder:l(n)("page.settings.tab.profile.module.peerIdBlackList.rule")},{default:a(()=>[(k(),ne(he,null,Le(e,_=>t(u,{key:_,value:_},{default:a(()=>[t(f,null,{default:a(()=>[c(g(_),1),t(m,{content:l(n)("page.settings.tab.profile.module.banRuleTips."+_)},{default:a(()=>[t(i)]),_:2},1032,["content"])]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue","placeholder"]),t(b,{modelValue:p.value.content,"onUpdate:modelValue":s[1]||(s[1]=_=>p.value.content=_),placeholder:d.placeholder},null,8,["modelValue","placeholder"]),c(" "+g(l(n)("page.settings.tab.profile.module.peerIdBlackList.hit"))+" ",1),t(S,{modelValue:p.value.hit,"onUpdate:modelValue":s[2]||(s[2]=_=>p.value.hit=_),style:{width:"100px"}},{default:a(()=>[(k(),ne(he,null,Le(r,_=>t(u,{key:_,value:_},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.banRuleTips."+_)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),c(" "+g(l(n)("page.settings.tab.profile.module.peerIdBlackList.miss"))+" ",1),t(S,{modelValue:p.value.miss,"onUpdate:modelValue":s[3]||(s[3]=_=>p.value.miss=_),style:{width:"100px"}},{default:a(()=>[(k(),ne(he,null,Le(r,_=>t(u,{key:_,value:_},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.banRuleTips."+_)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})}}}),an=O({__name:"clientNameBlackList",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=D({get:()=>e.value.ban_duration==="default",set:s=>{e.value.ban_duration=s?"default":2592e5}}),p=D(()=>e.value.banned_client_name.map((s,i)=>({...s,index:i}))),d=(s,i)=>{e.value.banned_client_name.some(m=>m.content==="")?i(n("page.settings.tab.profile.module.banRuleTips.empty")):i()};return(s,i)=>{const m=J,f=G,u=ie,S=j,b=Fe,_=pe,C=Ae,P=Pe,y=Ce;return k(),I(S,{direction:"vertical",fill:""},{default:a(()=>[t(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(m,{modelValue:e.value.enabled,"onUpdate:modelValue":i[0]||(i[0]=w=>e.value.enabled=w)},null,8,["modelValue"])]),_:1},8,["label"]),t(f,{label:l(n)("page.settings.tab.profile.module.clientNameBlackList.useGlobalBanTime"),field:"model.ban_duration"},te({default:a(()=>[t(S,null,{default:a(()=>[t(m,{modelValue:r.value,"onUpdate:modelValue":i[1]||(i[1]=w=>r.value=w)},null,8,["modelValue"]),r.value?q("",!0):(k(),I(u,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":i[2]||(i[2]=w=>e.value.ban_duration=w),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(f,{label:l(n)("page.settings.tab.profile.module.clientNameBlackList.banClientName"),field:"model.banned_client_name",rules:[{validator:d}]},{default:a(()=>[t(S,{direction:"vertical"},{default:a(()=>[t(_,{onClick:i[3]||(i[3]=w=>e.value.banned_client_name.unshift({method:"STARTS_WITH",content:""}))},{icon:a(()=>[t(b)]),_:1}),t(y,{style:{"min-width":"800px"},"pagination-props":{pageSize:5,total:e.value.banned_client_name.length},data:p.value},{item:a(({item:w})=>[t(P,{style:{"min-width":"250px"}},{actions:a(()=>[t(_,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:h=>e.value.banned_client_name.splice(w.index,1)},{icon:a(()=>[t(C)]),_:2},1032,["onClick"])]),default:a(()=>[t(S,null,{default:a(()=>[t(mt,{modelValue:e.value.banned_client_name[w.index],"onUpdate:modelValue":h=>e.value.banned_client_name[w.index]=h,placeholder:l(n)("page.settings.tab.profile.module.clientNameBlackList.placeholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),i[4]||(i[4]=N("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","rules"])]),_:1})}}}),ln=O({__name:"expressionEngine",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const s=J,i=G,m=ie,f=j;return k(),I(f,{direction:"vertical",fill:""},{default:a(()=>[t(i,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled",tooltip:l(n)("page.settings.tab.profile.module.expressionEngine.tips")},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(i,{label:l(n)("page.settings.tab.profile.module.expressionEngine.useGlobalBanTime"),field:"model.ban_duration"},te({default:a(()=>[t(f,null,{default:a(()=>[t(s,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=u=>r.value=u)},null,8,["modelValue"]),r.value?q("",!0):(k(),I(m,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>e.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),nn=O({__name:"ipAddressBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const[n,e,r]=Ct(),{t:p}=z(),d=F(o,"modelValue"),s=D({get:()=>d.value.ban_duration==="default",set:i=>{d.value.ban_duration=i?"default":2592e5}});return(i,m)=>{const f=J,u=G,S=ie,b=j,_=Ie,C=Ee("i18n-t"),P=de;return k(),I(b,{direction:"vertical",fill:""},{default:a(()=>[t(u,{label:l(p)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(f,{modelValue:d.value.enabled,"onUpdate:modelValue":m[0]||(m[0]=y=>d.value.enabled=y)},null,8,["modelValue"])]),_:1},8,["label"]),t(u,{label:l(p)("page.settings.tab.profile.module.ipAddressBlocker.useGlobalBanTime"),field:"model.ban_duration"},te({default:a(()=>[t(b,null,{default:a(()=>[t(f,{modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=y=>s.value=y)},null,8,["modelValue"]),s.value?q("",!0):(k(),I(S,{key:0,modelValue:d.value.ban_duration,"onUpdate:modelValue":m[2]||(m[2]=y=>d.value.ban_duration=y),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(p)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[d.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(d.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(P,null,{default:a(()=>[t(C,{keypath:"page.settings.tab.profile.module.ipAddressBlocker.rules"},{link:a(()=>[t(_,{onClick:m[3]||(m[3]=y=>l(r)("rule_management_ip"))},{default:a(()=>[c(g(l(p)("page.settings.tab.profile.module.ipAddressBlocker.rules.link")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),on=O({__name:"multiDialingBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const s=J,i=G,m=ie,f=j;return k(),I(f,{direction:"vertical",fill:""},{default:a(()=>[t(i,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.useGlobalBanTime"),field:"model.ban_duration"},te({default:a(()=>[t(f,null,{default:a(()=>[t(s,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=u=>r.value=u)},null,8,["modelValue"]),r.value?q("",!0):(k(),I(m,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>e.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(i,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.subnet-mask-length"),field:"model.subnet_mask_length"},{default:a(()=>[t(m,{modelValue:e.value.subnet_mask_length,"onUpdate:modelValue":d[3]||(d[3]=u=>e.value.subnet_mask_length=u),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.subnet-mask-v6-length"),field:"model.subnet_mask_v6_length"},{default:a(()=>[t(m,{modelValue:e.value.subnet_mask_v6_length,"onUpdate:modelValue":d[4]||(d[4]=u=>e.value.subnet_mask_v6_length=u),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num",{version:"IPv4"}),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num.tips"),field:"model.tolerate_num"},{default:a(()=>[t(m,{modelValue:e.value.tolerate_num_ipv4,"onUpdate:modelValue":d[5]||(d[5]=u=>e.value.tolerate_num_ipv4=u),style:{width:"100px"},min:0,step:1},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(i,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num",{version:"IPv6"}),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num.tips"),field:"model.tolerate_num"},{default:a(()=>[t(m,{modelValue:e.value.tolerate_num_ipv6,"onUpdate:modelValue":d[6]||(d[6]=u=>e.value.tolerate_num_ipv6=u),style:{width:"100px"},min:0,step:1},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(i,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.timeWindow"),field:"model.cache_lifespan"},{extra:a(()=>[c(" ="+g(l(vt)(e.value.cache_lifespan)),1)]),default:a(()=>[t(m,{modelValue:e.value.cache_lifespan,"onUpdate:modelValue":d[7]||(d[7]=u=>e.value.cache_lifespan=u),style:{width:"100px"},min:0},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.s")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(i,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting"),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting.tips"),field:"model.keep_hunting"},{default:a(()=>[t(s,{modelValue:e.value.keep_hunting,"onUpdate:modelValue":d[8]||(d[8]=u=>e.value.keep_hunting=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e.value.keep_hunting?(k(),I(i,{key:0,label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting-time"),field:"model.keep_hunting_time"},{extra:a(()=>[c(" ="+g(l(vt)(e.value.keep_hunting_time)),1)]),default:a(()=>[t(m,{modelValue:e.value.keep_hunting_time,"onUpdate:modelValue":d[9]||(d[9]=u=>e.value.keep_hunting_time=u),min:0,style:{width:"150px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.s")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):q("",!0)]),_:1})}}}),sn=O({__name:"peerIdBlackList",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=D(()=>e.value.banned_peer_id.map((s,i)=>({...s,index:i}))),p=D({get:()=>e.value.ban_duration==="default",set:s=>{e.value.ban_duration=s?"default":2592e5}}),d=(s,i)=>{e.value.banned_peer_id.some(m=>m.content==="")?i(n("page.settings.tab.profile.module.banRuleTips.empty")):i()};return(s,i)=>{const m=J,f=G,u=ie,S=j,b=Fe,_=pe,C=Ae,P=Pe,y=Ce;return k(),I(S,{direction:"vertical",fill:""},{default:a(()=>[t(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(m,{modelValue:e.value.enabled,"onUpdate:modelValue":i[0]||(i[0]=w=>e.value.enabled=w)},null,8,["modelValue"])]),_:1},8,["label"]),t(f,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.useGlobalBanTime"),field:"model.ban_duration"},te({default:a(()=>[t(S,null,{default:a(()=>[t(m,{modelValue:p.value,"onUpdate:modelValue":i[1]||(i[1]=w=>p.value=w)},null,8,["modelValue"]),p.value?q("",!0):(k(),I(u,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":i[2]||(i[2]=w=>e.value.ban_duration=w),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(f,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.banPeerId"),field:"model.banned_peer_id",rules:[{validator:d}]},{default:a(()=>[t(S,{direction:"vertical"},{default:a(()=>[t(_,{onClick:i[3]||(i[3]=w=>e.value.banned_peer_id.unshift({method:"STARTS_WITH",content:""}))},{icon:a(()=>[t(b)]),_:1}),t(y,{ref:"list",style:{"min-width":"800px"},"pagination-props":{pageSize:5,total:e.value.banned_peer_id.length},data:r.value},{item:a(({item:w})=>[t(P,null,{actions:a(()=>[t(_,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:h=>e.value.banned_peer_id.splice(w.index,1)},{icon:a(()=>[t(C)]),_:2},1032,["onClick"])]),default:a(()=>[t(S,null,{default:a(()=>[t(mt,{modelValue:e.value.banned_peer_id[w.index],"onUpdate:modelValue":h=>e.value.banned_peer_id[w.index]=h,placeholder:"Peer ID"},null,8,["modelValue","onUpdate:modelValue"]),i[4]||(i[4]=N("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","rules"])]),_:1})}}}),rn=O({__name:"progressCheatBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=D({get:()=>e.value.ban_duration==="default",set:f=>{e.value.ban_duration=f?"default":2592e5}}),p=D({get:()=>e.value.fast_pcb_test_percentage!==-1,set:f=>{e.value.fast_pcb_test_percentage=f?10:-1}}),d=D({get:()=>e.value.rewind_maximum_difference!==-1,set:f=>{e.value.rewind_maximum_difference=f?7:-1}}),s=D({get:()=>Math.round(e.value.maximum_difference*100),set:f=>{e.value.maximum_difference=f/100}}),i=D({get:()=>Math.round(e.value.rewind_maximum_difference*100),set:f=>{e.value.rewind_maximum_difference=f/100}}),m=D({get:()=>Math.round(e.value.fast_pcb_test_percentage*100),set:f=>{e.value.fast_pcb_test_percentage=f/100}});return(f,u)=>{const S=ot,b=J,_=G,C=ie,P=Ma,y=j,w=de;return k(),I(y,{direction:"vertical",fill:""},{default:a(()=>[t(S,null,{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.progressCheatBlocker.tips")),1)]),_:1}),t(_,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(b,{modelValue:e.value.enabled,"onUpdate:modelValue":u[0]||(u[0]=h=>e.value.enabled=h)},null,8,["modelValue"])]),_:1},8,["label"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.minSize"),field:"model.minimum_size",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.minSize.tips")},{extra:a(()=>[c(" ≈ "+g(l(Re)(e.value.minimum_size)),1)]),default:a(()=>[t(C,{modelValue:e.value.minimum_size,"onUpdate:modelValue":u[1]||(u[1]=h=>e.value.minimum_size=h),style:{width:"200px"}},{suffix:a(()=>u[16]||(u[16]=[c(" Bytes ")])),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxDifference"),field:"model.maximum_difference",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxDifference.tips")},{default:a(()=>[t(y,null,{default:a(()=>[t(P,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=h=>s.value=h),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":h=>`${h}%`},null,8,["modelValue","format-tooltip"]),u[17]||(u[17]=N("br",null,null,-1)),c(g(s.value)+"% ",1)]),_:1})]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.progressRewindDetection")},{default:a(()=>[t(b,{modelValue:d.value,"onUpdate:modelValue":u[3]||(u[3]=h=>d.value=h)},null,8,["modelValue"])]),_:1},8,["label"]),e.value.rewind_maximum_difference!==-1?(k(),I(_,{key:0,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.rewindMaxDifference"),field:"model.rewind_maximum_difference",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.rewindMaxDifference.tips")},{default:a(()=>[t(y,null,{default:a(()=>[t(P,{modelValue:i.value,"onUpdate:modelValue":u[4]||(u[4]=h=>i.value=h),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":h=>`${h}%`},null,8,["modelValue","format-tooltip"]),u[18]||(u[18]=N("br",null,null,-1)),c(g(i.value)+"% ",1)]),_:1})]),_:1},8,["label","tooltip"])):q("",!0),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.block_excessive_clients"),field:"model.block_excessive_clients",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.block_excessive_clients.tips")},{default:a(()=>[t(b,{modelValue:e.value.block_excessive_clients,"onUpdate:modelValue":u[5]||(u[5]=h=>e.value.block_excessive_clients=h)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.excessive_threshold"),field:"model.excessive_threshold",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.excessive_threshold.tips")},{default:a(()=>[t(C,{modelValue:e.value.excessive_threshold,"onUpdate:modelValue":u[6]||(u[6]=h=>e.value.excessive_threshold=h),style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipv4prefixlength"),field:"model.ipv4_prefix_length",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipprefixLength.tips")},{default:a(()=>[t(C,{modelValue:e.value.ipv4_prefix_length,"onUpdate:modelValue":u[7]||(u[7]=h=>e.value.ipv4_prefix_length=h),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipv6prefixlength"),field:"model.ipv6_prefix_length",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipprefixLength.tips")},{default:a(()=>[t(C,{modelValue:e.value.ipv6_prefix_length,"onUpdate:modelValue":u[8]||(u[8]=h=>e.value.ipv6_prefix_length=h),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.banDuration"),field:"model.ban_duration"},te({default:a(()=>[t(y,null,{default:a(()=>[t(b,{modelValue:r.value,"onUpdate:modelValue":u[9]||(u[9]=h=>r.value=h)},null,8,["modelValue"]),r.value?q("",!0):(k(),I(C,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":u[10]||(u[10]=h=>e.value.ban_duration=h),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enablePersist"),field:"model.enable_persist"},te({default:a(()=>[t(b,{modelValue:e.value.enable_persist,"onUpdate:modelValue":u[11]||(u[11]=h=>e.value.enable_persist=h)},null,8,["modelValue"])]),_:2},[e.value.enable_persist?{name:"extra",fn:a(()=>[t(w,{type:"danger"},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.progressCheatBlocker.enablePersist.tips")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),e.value.enable_persist?(k(),I(_,{key:1,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.persistDuration"),field:"model.persist_duration"},{extra:a(()=>[c(" ="+g(l(oe)(e.value.persist_duration)),1)]),default:a(()=>[t(C,{modelValue:e.value.persist_duration,"onUpdate:modelValue":u[12]||(u[12]=h=>e.value.persist_duration=h),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):q("",!0),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxWaitDuration"),tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxWaitDuration.tips"),field:"model.max_wait_duration"},{extra:a(()=>[c(" ="+g(l(oe)(e.value.max_wait_duration)),1)]),default:a(()=>[t(C,{modelValue:e.value.max_wait_duration,"onUpdate:modelValue":u[13]||(u[13]=h=>e.value.max_wait_duration=h),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enableFastPCBTest"),tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enableFastPCBTest.tips")},{default:a(()=>[t(b,{modelValue:p.value,"onUpdate:modelValue":u[14]||(u[14]=h=>p.value=h)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e.value.fast_pcb_test_percentage!==-1?(k(),I(_,{key:2,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.fastPCBTestPercentage"),field:"model.fast_pcb_test_percentage"},{default:a(()=>[t(y,null,{default:a(()=>[t(P,{modelValue:m.value,"onUpdate:modelValue":u[15]||(u[15]=h=>m.value=h),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":h=>`${h}%`},null,8,["modelValue","format-tooltip"]),u[19]||(u[19]=N("br",null,null,-1)),c(g(m.value)+"% ",1)]),_:1})]),_:1},8,["label"])):q("",!0)]),_:1})}}}),un=O({__name:"ruleSubscribe",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const[n,e,r]=Ct(),{t:p}=z(),d=F(o,"modelValue"),s=D({get:()=>d.value.ban_duration==="default",set:i=>{d.value.ban_duration=i?"default":2592e5}});return(i,m)=>{const f=J,u=G,S=ie,b=j,_=Ie,C=Ee("i18n-t"),P=de;return k(),I(b,{direction:"vertical",fill:""},{default:a(()=>[t(u,{label:l(p)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(f,{modelValue:d.value.enabled,"onUpdate:modelValue":m[0]||(m[0]=y=>d.value.enabled=y)},null,8,["modelValue"])]),_:1},8,["label"]),t(u,{label:l(p)("page.settings.tab.profile.module.ruleSubscribe.useGlobalBanTime"),field:"model.ban_duration"},te({default:a(()=>[t(b,null,{default:a(()=>[t(f,{modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=y=>s.value=y)},null,8,["modelValue"]),s.value?q("",!0):(k(),I(S,{key:0,modelValue:d.value.ban_duration,"onUpdate:modelValue":m[2]||(m[2]=y=>d.value.ban_duration=y),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(p)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[d.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(d.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(P,null,{default:a(()=>[t(C,{keypath:"page.settings.tab.profile.module.ruleSubscribe.subscribe"},{link:a(()=>[t(_,{onClick:m[3]||(m[3]=y=>l(r)("rule_management_subscribe"))},{default:a(()=>[c(g(l(p)("page.settings.tab.profile.module.ruleSubscribe.subscribe.link")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),dn=O({__name:"ptrBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=z(),e=F(o,"modelValue"),r=D({get:()=>e.value.ban_duration==="default",set:s=>{e.value.ban_duration=s?"default":2592e5}}),p=D(()=>e.value.ptr_rules.map((s,i)=>({...s,index:i}))),d=(s,i)=>{e.value.ptr_rules.some(m=>m.content==="")?i(n("page.settings.tab.profile.module.banRuleTips.empty")):i()};return(s,i)=>{const m=J,f=G,u=ie,S=j,b=Fe,_=pe,C=Ae,P=Pe,y=Ce;return k(),I(S,{direction:"vertical",fill:""},{default:a(()=>[t(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(m,{modelValue:e.value.enabled,"onUpdate:modelValue":i[0]||(i[0]=w=>e.value.enabled=w)},null,8,["modelValue"])]),_:1},8,["label"]),t(f,{label:l(n)("page.settings.tab.profile.module.ptrBlackList.useGlobalBanTime"),field:"model.ban_duration"},te({default:a(()=>[t(S,null,{default:a(()=>[t(m,{modelValue:r.value,"onUpdate:modelValue":i[1]||(i[1]=w=>r.value=w)},null,8,["modelValue"]),r.value?q("",!0):(k(),I(u,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":i[2]||(i[2]=w=>e.value.ban_duration=w),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(oe)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(f,{label:l(n)("page.settings.tab.profile.module.ptrBlackList.reserveName"),field:"model.banned_client_name",tooltip:l(n)("page.settings.tab.profile.module.ptrBlackList.tooltip"),rules:[{validator:d}]},{default:a(()=>[t(S,{direction:"vertical"},{default:a(()=>[t(_,{onClick:i[3]||(i[3]=w=>e.value.ptr_rules.unshift({method:"STARTS_WITH",content:""}))},{icon:a(()=>[t(b)]),_:1}),t(y,{style:{"min-width":"800px"},"pagination-props":{pageSize:5,total:e.value.ptr_rules.length},data:p.value},{item:a(({item:w})=>[t(P,{style:{"min-width":"250px"}},{actions:a(()=>[t(_,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:h=>e.value.ptr_rules.splice(w.index,1)},{icon:a(()=>[t(C)]),_:2},1032,["onClick"])]),default:a(()=>[t(S,null,{default:a(()=>[t(mt,{modelValue:e.value.ptr_rules[w.index],"onUpdate:modelValue":h=>e.value.ptr_rules[w.index]=h,placeholder:l(n)("page.settings.tab.profile.module.ptrBlackList.placeholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),i[4]||(i[4]=N("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","tooltip","rules"])]),_:1})}}}),pn={id:"top",style:{position:"relative"}},mn=O({__name:"index",setup(o){const{t:n}=z(),e=nt({config_version:0,check_interval:0,ban_duration:0,ignore_peers_from_addresses:[],module:{peer_id_blacklist:{},client_name_blacklist:{},progress_cheat_blocker:{},ip_address_blocker:{},auto_range_ban:{},btn:{},multi_dialing_blocker:{},expression_engine:{},ip_address_blocker_rules:{},active_monitoring:{traffic_monitoring:{}}}}),{loading:r}=xe(ra,{onSuccess:s=>{Object.assign(e,s.data)}}),p=Q(!1),d=async()=>{p.value=!0;try{const s=await ua(e);s.success?le.success(s.message):le.error(s.message)}catch(s){le.error(s.message)}finally{p.value=!1}};return(s,i)=>{const m=se,f=ie,u=G,S=j,b=rt,_=Ua,C=Ba,P=zt,y=pe,w=We,h=ut,$=Ta;return k(),ne(he,null,[t(h,{style:{width:"100%"},loading:l(r),dot:""},{default:a(()=>[N("div",pn,[t(w,{model:e},{default:a(()=>[t(S,{direction:"vertical",fill:""},{default:a(()=>[t(S,{direction:"vertical",fill:"",style:{width:"100%"}},{default:a(()=>[t(m,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.base.title")),1)]),_:1}),t(u,{label:l(n)("page.settings.tab.profile.form.checkInterval"),field:"check_interval",required:""},{default:a(()=>[t(f,{modelValue:e.check_interval,"onUpdate:modelValue":i[0]||(i[0]=V=>e.check_interval=V),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(u,{label:l(n)("page.settings.tab.profile.form.banDuration"),field:"ban_duration",required:""},{extra:a(()=>[c(" ="+g(l(oe)(e.ban_duration)),1)]),default:a(()=>[t(f,{modelValue:e.ban_duration,"onUpdate:modelValue":i[1]||(i[1]=V=>e.ban_duration=V),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(jt,{modelValue:e.ignore_peers_from_addresses,"onUpdate:modelValue":i[2]||(i[2]=V=>e.ignore_peers_from_addresses=V),label:l(n)("page.settings.tab.profile.form.ignoreAddress"),tooltip:l(n)("page.settings.tab.profile.form.ignoreAddress.tooltip"),"pagination-props":{pageSize:10,total:e.ignore_peers_from_addresses.length}},null,8,["modelValue","label","tooltip","pagination-props"])]),_:1}),t(b),e.module?(k(),I(S,{key:0,direction:"vertical",fill:"",style:{width:"90%"}},{default:a(()=>[t(m,{id:"module",heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.title")),1)]),_:1}),t(C,{"destroy-on-hide":""},{default:a(()=>[t(_,{key:"1",header:l(n)("page.settings.tab.profile.module.peerIdBlackList")},{default:a(()=>[t(sn,{modelValue:e.module.peer_id_blacklist,"onUpdate:modelValue":i[3]||(i[3]=V=>e.module.peer_id_blacklist=V)},null,8,["modelValue"])]),_:1},8,["header"]),t(_,{key:"2",header:l(n)("page.settings.tab.profile.module.clientNameBlackList")},{default:a(()=>[t(an,{modelValue:e.module.client_name_blacklist,"onUpdate:modelValue":i[4]||(i[4]=V=>e.module.client_name_blacklist=V)},null,8,["modelValue"])]),_:1},8,["header"]),t(_,{key:"3",header:l(n)("page.settings.tab.profile.module.progressCheatBlocker")},{default:a(()=>[t(rn,{modelValue:e.module.progress_cheat_blocker,"onUpdate:modelValue":i[5]||(i[5]=V=>e.module.progress_cheat_blocker=V)},null,8,["modelValue"])]),_:1},8,["header"]),t(_,{key:"4",header:l(n)("page.settings.tab.profile.module.ipAddressBlocker.title")},{default:a(()=>[t(nn,{modelValue:e.module.ip_address_blocker,"onUpdate:modelValue":i[6]||(i[6]=V=>e.module.ip_address_blocker=V)},null,8,["modelValue"])]),_:1},8,["header"]),t(_,{key:"5",header:l(n)("page.settings.tab.profile.module.autoRangeBan.title")},{default:a(()=>[t(en,{modelValue:e.module.auto_range_ban,"onUpdate:modelValue":i[7]||(i[7]=V=>e.module.auto_range_ban=V)},null,8,["modelValue"])]),_:1},8,["header"]),t(_,{key:"6",header:"BTN"},{default:a(()=>[t(tn,{modelValue:e.module.btn,"onUpdate:modelValue":i[8]||(i[8]=V=>e.module.btn=V)},null,8,["modelValue"])]),_:1}),t(_,{key:"7",header:l(n)("page.settings.tab.profile.module.multiDialingBlocker.title")},{default:a(()=>[t(on,{modelValue:e.module.multi_dialing_blocker,"onUpdate:modelValue":i[9]||(i[9]=V=>e.module.multi_dialing_blocker=V)},null,8,["modelValue"])]),_:1},8,["header"]),t(_,{key:"8",header:l(n)("page.settings.tab.profile.module.expressionEngine.title")},{default:a(()=>[t(ln,{modelValue:e.module.expression_engine,"onUpdate:modelValue":i[10]||(i[10]=V=>e.module.expression_engine=V)},null,8,["modelValue"])]),_:1},8,["header"]),t(_,{key:"9",header:l(n)("page.settings.tab.profile.module.ruleSubscribe.title")},{default:a(()=>[t(un,{modelValue:e.module.ip_address_blocker_rules,"onUpdate:modelValue":i[11]||(i[11]=V=>e.module.ip_address_blocker_rules=V)},null,8,["modelValue"])]),_:1},8,["header"]),t(_,{key:"10",header:l(n)("page.settings.tab.profile.module.activeMonitor.title")},{default:a(()=>[t(Zl,{modelValue:e.module.active_monitoring,"onUpdate:modelValue":i[12]||(i[12]=V=>e.module.active_monitoring=V)},null,8,["modelValue"])]),_:1},8,["header"]),t(_,{key:"11",header:l(n)("page.settings.tab.profile.module.ptrBlackList.title")},{default:a(()=>[t(dn,{modelValue:e.module.ptr_blacklist,"onUpdate:modelValue":i[13]||(i[13]=V=>e.module.ptr_blacklist=V)},null,8,["modelValue"])]),_:1},8,["header"])]),_:1})]),_:1})):q("",!0),i[15]||(i[15]=N("br",null,null,-1)),t(u,{"label-col-flex":"0"},{default:a(()=>[t(y,{"html-type":"submit",type:"primary",loading:p.value,onClick:i[14]||(i[14]=V=>d())},{icon:a(()=>[t(P)]),default:a(()=>[c(" "+g(l(n)("page.settings.tab.profile.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["loading"]),t($,{"target-container":"#top",style:{position:"absolute"}})],64)}}}),fn=Se(mn,[["__scopeId","data-v-714414ea"]]),_n=O({__name:"index",setup(o){const{t:n}=z(),{query:e}=ta(),r=e.tab?{info:0,config:1,profile:2,lab:3}[e.tab]??0:0;return(p,d)=>{const s=La,i=Zt,m=Ya,f=Ra;return k(),I(f,{"default-active-key":l(r),"lazy-load":"",animation:"",type:"rounded"},{default:a(()=>[(k(),I(s,{key:0},{title:a(()=>[t(l(bt),{type:"icon-icon_status"}),c("  "+g(l(n)("page.settings.tab.info.title")),1)]),default:a(()=>[t(Fl)]),_:1})),(k(),I(s,{key:1},{title:a(()=>[t(i),c("  "+g(l(n)("page.settings.tab.config")),1)]),default:a(()=>[t(vl)]),_:1})),(k(),I(s,{key:2},{title:a(()=>[t(l(bt),{type:"icon-config"}),c("  "+g(l(n)("page.settings.tab.profile")),1)]),default:a(()=>[t(fn)]),_:1})),(k(),I(s,{key:3},{title:a(()=>[t(m),c("  "+g(l(n)("page.settings.tab.labs")),1)]),default:a(()=>[t(Ql)]),_:1}))]),_:1},8,["default-active-key"])}}}),kn=Object.freeze(Object.defineProperty({__proto__:null,default:_n},Symbol.toStringTag,{value:"Module"}));export{sl as S,kn as i};
